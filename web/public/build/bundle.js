var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function c(){return Object.create(null)}function r(e){e.forEach(n)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(t,...n){if(null==t)return e;const c=t.subscribe(...n);return c.unsubscribe?()=>c.unsubscribe():c}function l(e){let t;return o(e,(e=>t=e))(),t}function i(e,t,n){e.$$.on_destroy.push(o(t,n))}function d(e,t,n,c){return e[1]&&c?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](c(t))):n.ctx}const u="undefined"!=typeof window;let f=u?()=>window.performance.now():()=>Date.now(),m=u?e=>requestAnimationFrame(e):e;const b=new Set;function p(e){b.forEach((t=>{t.c(e)||(b.delete(t),t.f())})),0!==b.size&&m(p)}function g(e,t){e.appendChild(t)}function x(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function v(e){const t=$("style");return function(e,t){g(e.head||e,t)}(x(e),t),t.sheet}function h(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function $(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function k(){return _(" ")}function A(){return _("")}function C(e,t,n,c){return e.addEventListener(t,n,c),()=>e.removeEventListener(t,n,c)}function j(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function M(e){return""===e?null:+e}function L(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function S(e,t){e.value=null==t?"":t}function T(e,t,n){e.classList[n?"add":"remove"](t)}function N(e,t,{bubbles:n=!1,cancelable:c=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,c,t),r}const E=new Map;let D,I=0;function z(e,t,n,c,r,a,s,o=0){const l=16.666/c;let i="{\n";for(let e=0;e<=1;e+=l){const c=t+(n-t)*a(e);i+=100*e+`%{${s(c,1-c)}}\n`}const d=i+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${o}`,f=x(e),{stylesheet:m,rules:b}=E.get(f)||function(e,t){const n={stylesheet:v(t),rules:{}};return E.set(e,n),n}(f,e);b[u]||(b[u]=!0,m.insertRule(`@keyframes ${u} ${d}`,m.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${u} ${c}ms linear ${r}ms 1 both`,I+=1,u}function B(e,t){const n=(e.style.animation||"").split(", "),c=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-c.length;r&&(e.style.animation=c.join(", "),I-=r,I||m((()=>{I||(E.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),E.clear())})))}function R(e){D=e}function P(){if(!D)throw new Error("Function called outside component initialization");return D}function O(e){P().$$.on_mount.push(e)}const F=[],H=[],V=[],U=[],q=Promise.resolve();let W=!1;function Y(e){V.push(e)}const Z=new Set;let G,J=0;function X(){const e=D;do{for(;J<F.length;){const e=F[J];J++,R(e),K(e.$$)}for(R(null),F.length=0,J=0;H.length;)H.pop()();for(let e=0;e<V.length;e+=1){const t=V[e];Z.has(t)||(Z.add(t),t())}V.length=0}while(F.length);for(;U.length;)U.pop()();W=!1,Z.clear(),R(e)}function K(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}function Q(e,t,n){e.dispatchEvent(N(`${t?"intro":"outro"}${n}`))}const ee=new Set;let te;function ne(){te={r:0,c:[],p:te}}function ce(){te.r||r(te.c),te=te.p}function re(e,t){e&&e.i&&(ee.delete(e),e.i(t))}function ae(e,t,n,c){if(e&&e.o){if(ee.has(e))return;ee.add(e),te.c.push((()=>{ee.delete(e),c&&(n&&e.d(1),c())})),e.o(t)}else c&&c()}const se={duration:0};function oe(n,c,s,o){let l=c(n,s),i=o?0:1,d=null,u=null,g=null;function x(){g&&B(n,g)}function v(e,t){const n=e.b-i;return t*=Math.abs(n),{a:i,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(c){const{delay:a=0,duration:s=300,easing:o=t,tick:h=e,css:y}=l||se,w={start:f()+a,b:c};c||(w.group=te,te.r+=1),d||u?u=w:(y&&(x(),g=z(n,i,c,s,a,o,y)),c&&h(0,1),d=v(w,s),Y((()=>Q(n,c,"start"))),function(e){let t;0===b.size&&m(p),new Promise((n=>{b.add(t={c:e,f:n})}))}((e=>{if(u&&e>u.start&&(d=v(u,s),u=null,Q(n,d.b,"start"),y&&(x(),g=z(n,i,d.b,d.duration,0,o,l.css))),d)if(e>=d.end)h(i=d.b,1-i),Q(n,d.b,"end"),u||(d.b?x():--d.group.r||r(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;i=d.a+d.d*o(t/d.duration),h(i,1-i)}return!(!d&&!u)})))}return{run(e){a(l)?(G||(G=Promise.resolve(),G.then((()=>{G=null}))),G).then((()=>{l=l(),h(e)})):h(e)},end(){x(),d=u=null}}}function le(e,t){ae(e,1,1,(()=>{t.delete(e.key)}))}function ie(e,t,n,c,r,a,s,o,l,i,d,u){let f=e.length,m=a.length,b=f;const p={};for(;b--;)p[e[b].key]=b;const g=[],x=new Map,v=new Map;for(b=m;b--;){const e=u(r,a,b),o=n(e);let l=s.get(o);l?c&&l.p(e,t):(l=i(o,e),l.c()),x.set(o,g[b]=l),o in p&&v.set(o,Math.abs(b-p[o]))}const h=new Set,y=new Set;function w(e){re(e,1),e.m(o,d),s.set(e.key,e),d=e.first,m--}for(;f&&m;){const t=g[m-1],n=e[f-1],c=t.key,r=n.key;t===n?(d=t.first,f--,m--):x.has(r)?!s.has(c)||h.has(c)?w(t):y.has(r)?f--:v.get(c)>v.get(r)?(y.add(c),w(t)):(h.add(r),f--):(l(n,s),f--)}for(;f--;){const t=e[f];x.has(t.key)||l(t,s)}for(;m;)w(g[m-1]);return g}function de(e){e&&e.c()}function ue(e,t,c,s){const{fragment:o,on_mount:l,on_destroy:i,after_update:d}=e.$$;o&&o.m(t,c),s||Y((()=>{const t=l.map(n).filter(a);i?i.push(...t):r(t),e.$$.on_mount=[]})),d.forEach(Y)}function fe(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function me(e,t){-1===e.$$.dirty[0]&&(F.push(e),W||(W=!0,q.then(X)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function be(t,n,a,s,o,l,i,d=[-1]){const u=D;R(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:o,bound:c(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:c(),dirty:d,skip_bound:!1,root:n.target||u.$$.root};i&&i(f.root);let m=!1;if(f.ctx=a?a(t,n.props||{},((e,n,...c)=>{const r=c.length?c[0]:n;return f.ctx&&o(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),m&&me(t,e)),n})):[],f.update(),m=!0,r(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&re(t.$$.fragment),ue(t,n.target,n.anchor,n.customElement),X()}R(u)}class pe{$destroy(){fe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ge=atob("UmVuZXdlZC1CYW5raW5n");async function xe(e,t={},n=!1){try{const c={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)},r=await fetch(`https://${ge}/${e}`,c),a=await r.text();if(!a)return console.log(`Empty response from ${e}`),{};if(!n)try{return JSON.parse(a)}catch(t){return console.error(`Failed to parse JSON from ${e}:`,a),{}}return new Promise((t=>{const n=setTimeout((()=>{window.removeEventListener("message",c),console.error(`Timeout waiting for response from ${e}`),t({})}),5e3),c=e=>{"accountsData"!==e.data.action&&"setVisible"!==e.data.action||(clearTimeout(n),window.removeEventListener("message",c),t(e.data.data))};window.addEventListener("message",c)}))}catch(t){return console.error(`Error in fetchNui (${e}):`,t),{}}}const ve=[];function he(t,n=e){let c;const r=new Set;function a(e){if(s(t,e)&&(t=e,c)){const e=!ve.length;for(const e of r)e[1](),ve.push(e,t);if(e){for(let e=0;e<ve.length;e+=2)ve[e][0](ve[e+1]);ve.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(s,o=e){const l=[s,o];return r.add(l),1===r.size&&(c=n(a)||e),s(t),()=>{r.delete(l),0===r.size&&(c(),c=null)}}}}const ye=he(!1),we=he(!1),$e=he(""),_e=he(null),ke=he(!1),Ae=he("USD"),Ce=he({account:{},actionType:""}),je=he([]),Me=he({});function Le(e,t){const n=n=>{n.data.action===e&&t(n.data)};var c;O((()=>window.addEventListener("message",n))),c=()=>window.removeEventListener("message",n),P().$$.on_destroy.push(c)}function Se(e){let t;const n=e[2].default,c=function(e,t,n,c){if(e){const r=d(e,t,n,c);return e[0](r)}}(n,e,e[1],null);return{c(){c&&c.c()},m(e,n){c&&c.m(e,n),t=!0},p(e,r){c&&c.p&&(!t||2&r)&&function(e,t,n,c,r,a){if(r){const s=d(t,n,c,a);e.p(s,r)}}(c,n,e,e[1],t?function(e,t,n,c){if(e[2]&&c){const r=e[2](c(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let c=0;c<n;c+=1)e[c]=t.dirty[c]|r[c];return e}return t.dirty|r}return t.dirty}(n,e[1],r,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[1]),null)},i(e){t||(re(c,e),t=!0)},o(e){ae(c,e),t=!1},d(e){c&&c.d(e)}}}function Te(e){let t,n,c=e[0]&&Se(e);return{c(){c&&c.c(),t=A()},m(e,r){c&&c.m(e,r),h(e,t,r),n=!0},p(e,[n]){e[0]?c?(c.p(e,n),1&n&&re(c,1)):(c=Se(e),c.c(),re(c,1),c.m(t.parentNode,t)):c&&(ne(),ae(c,1,1,(()=>{c=null})),ce())},i(e){n||(re(c),n=!0)},o(e){ae(c),n=!1},d(e){c&&c.d(e),e&&y(t)}}}function Ne(e,t,n){let c;i(e,ye,(e=>n(0,c=e)));let{$$slots:r={},$$scope:a}=t,s=!1;return ye.subscribe((e=>{s=e})),Le("setVisible",(e=>{ye.set(!1),je.set([]),_e.set(null),we.set(!1),ke.set(!1),e&&(ye.set(!0===e.status),we.set(!0===e.loading),ke.set(!0===e.atm),e.platinumThreshold&&localStorage.setItem("platinumThreshold",e.platinumThreshold.toString()),e.accounts&&Array.isArray(e.accounts)&&(je.set(e.accounts),e.accounts.length>0&&e.accounts[0]&&e.accounts[0].id&&_e.set(e.accounts[0].id)))})),Le("setLoading",(e=>{we.set(e.status)})),Le("notify",(e=>{$e.set(e.status),setTimeout((()=>{$e.set("")}),3500)})),Le("updateLocale",(e=>{Me.set(e.translations),Ae.set(e.currency)})),O((()=>{const e=e=>{s&&["Escape"].includes(e.code)&&(xe("closeInterface"),ye.set(!1),Ce.update((e=>Object.assign(Object.assign({},e),{actionType:""}))))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)})),e.$$set=e=>{"$$scope"in e&&n(1,a=e.$$scope)},[c,a,r]}class Ee extends pe{constructor(e){super(),be(this,e,Ne,Te,s,{})}}const De=(e,t=1e3)=>{if((()=>{try{return!window.invokeNative}catch(e){return!0}})())for(const n of e)setTimeout((()=>{window.dispatchEvent(new MessageEvent("message",{data:{action:n.action,data:n.data}}))}),t)};function Ie(e){let t;return{c(){t=$("span"),t.innerHTML='<i class="fa-solid fa-lock text-xs"></i> FROZEN',j(t,"class","frozen-badge svelte-pk73jv")},m(e,n){h(e,t,n)},d(e){e&&y(t)}}}function ze(e){let t;return{c(){t=$("div"),j(t,"class","selection-indicator svelte-pk73jv")},m(e,n){h(e,t,n)},d(e){e&&y(t)}}}function Be(t){let n,c,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A,M,S,T,N,E,D,I,z,B,R,P,O,F,H,V,U,q,W,Y,Z,G,J,X,K,Q,ee,te,ne,ce,re=Re(t[0].id)+"",ae=t[0].isFrozen&&Ie(),se=t[4]&&ze();return{c(){n=$("div"),c=$("div"),a=$("div"),s=$("div"),o=$("div"),o.innerHTML='<div class="bank-logo svelte-pk73jv"><i class="fas fa-university text-white text-sm"></i> \n            <span class="bank-name svelte-pk73jv">FLEECA</span></div> \n          <div class="card-chip svelte-pk73jv"><i class="fas fa-microchip text-xs"></i></div>',l=k(),i=$("div"),d=$("span"),u=_(t[1]),m=k(),ae&&ae.c(),b=k(),p=$("div"),x=_(re),v=k(),w=$("div"),A=$("div"),M=$("div"),M.textContent="CARD HOLDER",S=k(),T=$("div"),T.textContent=`${t[7]}`,N=k(),E=$("div"),E.innerHTML='<div class="network-circles svelte-pk73jv"><div class="circle circle-1 svelte-pk73jv"></div> \n            <div class="circle circle-2 svelte-pk73jv"></div></div>',I=k(),z=$("div"),B=$("div"),R=k(),P=$("div"),O=$("div"),O.textContent=`${t[7]}`,F=k(),H=$("div"),V=$("span"),V.textContent="CVV",U=k(),q=$("span"),q.textContent=`${t[6]}`,W=k(),Y=$("div"),Y.innerHTML='<p class="info-text svelte-pk73jv">This card is property of Fleeca Bank.</p> \n        <p class="info-text svelte-pk73jv">Use subject to cardholder agreement.</p>',Z=k(),G=$("div"),G.innerHTML='<i class="fas fa-university text-white text-xs"></i> \n        <span class="bank-name-small svelte-pk73jv">FLEECA BANK</span>',K=k(),se&&se.c(),Q=k(),ee=$("button"),ee.innerHTML='<i class="fas fa-sync-alt"></i>',j(o,"class","card-header svelte-pk73jv"),j(d,"class",f="type-badge "+t[1].toLowerCase()+"-badge svelte-pk73jv"),j(i,"class","type-badge-container svelte-pk73jv"),j(p,"class","card-number svelte-pk73jv"),j(M,"class","label svelte-pk73jv"),j(T,"class","value svelte-pk73jv"),j(A,"class","card-holder svelte-pk73jv"),j(w,"class","card-details svelte-pk73jv"),j(E,"class","card-network svelte-pk73jv"),j(s,"class","card-content svelte-pk73jv"),j(a,"class",D="card-face card-front "+t[2]+" "+(t[0].isFrozen?"frozen":"")+" svelte-pk73jv"),j(B,"class","magnetic-stripe svelte-pk73jv"),j(O,"class","signature svelte-pk73jv"),j(V,"class","cvv-label svelte-pk73jv"),j(q,"class","cvv-number svelte-pk73jv"),j(H,"class","cvv-container svelte-pk73jv"),j(P,"class","signature-strip svelte-pk73jv"),j(Y,"class","card-info svelte-pk73jv"),j(G,"class","bank-logo-small svelte-pk73jv"),j(z,"class",J="card-face card-back "+t[2]+" svelte-pk73jv"),j(c,"class",X="credit-card "+(t[3]?"is-flipped":"")+" svelte-pk73jv"),j(ee,"class","external-flip-button svelte-pk73jv"),j(ee,"aria-label","Flip card"),j(n,"class",te="card-container cursor-pointer "+(t[4]?"active-card":"")+" svelte-pk73jv")},m(e,r){h(e,n,r),g(n,c),g(c,a),g(a,s),g(s,o),g(s,l),g(s,i),g(i,d),g(d,u),g(i,m),ae&&ae.m(i,null),g(s,b),g(s,p),g(p,x),g(s,v),g(s,w),g(w,A),g(A,M),g(A,S),g(A,T),g(s,N),g(s,E),g(c,I),g(c,z),g(z,B),g(z,R),g(z,P),g(P,O),g(P,F),g(P,H),g(H,V),g(H,U),g(H,q),g(z,W),g(z,Y),g(z,Z),g(z,G),g(n,K),se&&se.m(n,null),g(n,Q),g(n,ee),ne||(ce=[C(ee,"click",t[8]),C(n,"click",t[10]),C(n,"keydown",Pe)],ne=!0)},p(e,[t]){2&t&&L(u,e[1]),2&t&&f!==(f="type-badge "+e[1].toLowerCase()+"-badge svelte-pk73jv")&&j(d,"class",f),e[0].isFrozen?ae||(ae=Ie(),ae.c(),ae.m(i,null)):ae&&(ae.d(1),ae=null),1&t&&re!==(re=Re(e[0].id)+"")&&L(x,re),5&t&&D!==(D="card-face card-front "+e[2]+" "+(e[0].isFrozen?"frozen":"")+" svelte-pk73jv")&&j(a,"class",D),4&t&&J!==(J="card-face card-back "+e[2]+" svelte-pk73jv")&&j(z,"class",J),8&t&&X!==(X="credit-card "+(e[3]?"is-flipped":"")+" svelte-pk73jv")&&j(c,"class",X),e[4]?se||(se=ze(),se.c(),se.m(n,Q)):se&&(se.d(1),se=null),16&t&&te!==(te="card-container cursor-pointer "+(e[4]?"active-card":"")+" svelte-pk73jv")&&j(n,"class",te)},i:e,o:e,d(e){e&&y(n),ae&&ae.d(),se&&se.d(),ne=!1,r(ce)}}}function Re(e){let t=e.replace(/\D/g,"");return 0===t.length&&(t=Array.from(e.substring(0,16)).map((e=>e.charCodeAt(0)%10)).join("")),t=t.padEnd(16,"0").substring(0,16),t.replace(/(.{4})/g,"$1 ").trim()}const Pe=()=>{};function Oe(e,t,n){let c,r;i(e,_e,(e=>n(9,r=e)));let{account:a}=t;function s(e){_e.update((()=>e))}ke.subscribe((e=>{}));const o=Math.floor(900*Math.random())+100,l=parseInt(localStorage.getItem("platinumThreshold")||"50000");let d="PERSONAL",u="bg-gradient-to-br from-fleeca-green to-fleeca-dark-green";const f=["police","ambulance","ems","sheriff","fire","government","lspd","bcso"];const m=a.name.toUpperCase();let b=!1;return e.$$set=e=>{"account"in e&&n(0,a=e.account)},e.$$.update=()=>{513&e.$$.dirty&&n(4,c=r===a.id),1&e.$$.dirty&&(a.creator?(n(1,d="BUSINESS"),n(2,u="bg-gradient-to-br from-gray-800 to-gray-900")):a.type&&("org"===a.type.toLowerCase()||"organization"===a.type.toLowerCase())||function(e){if(!e.name||"string"!=typeof e.name)return!1;const t=e.name.toLowerCase();return f.some((e=>t.includes(e)))}(a)?(n(1,d="ORGANIZATION"),n(2,u="bg-gradient-to-br from-gray-800 to-gray-700")):a.amount>l?(n(1,d="PLATINUM"),n(2,u="bg-gradient-to-br from-gray-900 to-gray-800")):(n(1,d="PERSONAL"),n(2,u="bg-gradient-to-br from-fleeca-green to-fleeca-dark-green")))},[a,d,u,b,c,s,o,m,function(e){e.stopPropagation(),n(3,b=!b)},r,()=>s(a.id)]}class Fe extends pe{constructor(e){super(),be(this,e,Oe,Be,s,{account:0})}}function He(e,t,n){const c=e.slice();return c[6]=t[n],c}function Ve(e){let t,n,c,r,a,s,o,l,i,d,u,f=e[6].label+"";function m(){return e[4](e[6])}return{c(){t=$("button"),n=$("i"),r=k(),a=$("span"),s=_(f),o=k(),j(n,"class",c="fas "+e[6].icon+" mr-2 svelte-9olcxq"),j(t,"class",l="category-btn "+(e[0]===e[6].id?"active":"")+" svelte-9olcxq"),j(t,"aria-label",i=e[6].label)},m(e,c){h(e,t,c),g(t,n),g(t,r),g(t,a),g(a,s),g(t,o),d||(u=C(t,"click",m),d=!0)},p(n,c){e=n,1&c&&l!==(l="category-btn "+(e[0]===e[6].id?"active":"")+" svelte-9olcxq")&&j(t,"class",l)},d(e){e&&y(t),d=!1,u()}}}function Ue(t){let n,c,r,a,s,o=(t[1].filter_accounts||"Filter Accounts")+"",l=t[2],i=[];for(let e=0;e<l.length;e+=1)i[e]=Ve(He(t,l,e));return{c(){n=$("div"),c=$("h4"),r=_(o),a=k(),s=$("div");for(let e=0;e<i.length;e+=1)i[e].c();j(c,"class","text-sm font-medium text-fleeca-text-secondary mb-2"),j(s,"class","flex flex-wrap gap-2"),j(n,"class","category-selector mb-4 svelte-9olcxq")},m(e,t){h(e,n,t),g(n,c),g(c,r),g(n,a),g(n,s);for(let e=0;e<i.length;e+=1)i[e].m(s,null)},p(e,[t]){if(2&t&&o!==(o=(e[1].filter_accounts||"Filter Accounts")+"")&&L(r,o),13&t){let n;for(l=e[2],n=0;n<l.length;n+=1){const c=He(e,l,n);i[n]?i[n].p(c,t):(i[n]=Ve(c),i[n].c(),i[n].m(s,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=l.length}},i:e,o:e,d(e){e&&y(n),w(i,e)}}}function qe(e,t,n){let c;i(e,Me,(e=>n(1,c=e)));let{selectedCategory:r="all"}=t;const a=function(){const e=P();return(t,n,{cancelable:c=!1}={})=>{const r=e.$$.callbacks[t];if(r){const a=N(t,n,{cancelable:c});return r.slice().forEach((t=>{t.call(e,a)})),!a.defaultPrevented}return!0}}();function s(e){n(0,r=e),a("categoryChange",e)}return e.$$set=e=>{"selectedCategory"in e&&n(0,r=e.selectedCategory)},[r,c,[{id:"all",label:"All Accounts",icon:"fa-credit-card"},{id:"personal",label:"Personal",icon:"fa-user"},{id:"business",label:"Business",icon:"fa-briefcase"},{id:"org",label:"Organization",icon:"fa-building"}],s,e=>s(e.id)]}class We extends pe{constructor(e){super(),be(this,e,qe,Ue,s,{selectedCategory:0})}}function Ye(e,t,n){const c=e.slice();return c[13]=t[n],c}function Ze(t){let n,c,r,a,s,o,l=(t[6]&&t[6].account_not_found?t[6].account_not_found:"No cards found")+"",i="all"!==t[2]&&Je(t);return{c(){n=$("div"),c=$("div"),c.innerHTML='<i class="fas fa-credit-card text-fleeca-text-secondary text-2xl"></i>',r=k(),a=$("h3"),s=_(l),o=k(),i&&i.c(),j(c,"class","w-16 h-16 mx-auto bg-fleeca-bg rounded-full flex items-center justify-center mb-4"),j(a,"class","text-fleeca-text font-medium"),j(n,"class","text-center py-8 bg-fleeca-card rounded-lg border border-fleeca-border animate-fadeIn shadow-card")},m(e,t){h(e,n,t),g(n,c),g(n,r),g(n,a),g(a,s),g(n,o),i&&i.m(n,null)},p(e,t){64&t&&l!==(l=(e[6]&&e[6].account_not_found?e[6].account_not_found:"No cards found")+"")&&L(s,l),"all"!==e[2]?i?i.p(e,t):(i=Je(e),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},i:e,o:e,d(e){e&&y(n),i&&i.d()}}}function Ge(e){let t,n,c,r,a=[],s=new Map,o=e[5];const l=e=>e[13].id;for(let t=0;t<o.length;t+=1){let n=Ye(e,o,t),c=l(n);s.set(c,a[t]=Xe(c,n))}let i=e[4]>1&&Ke(e);return{c(){t=$("div");for(let e=0;e<a.length;e+=1)a[e].c();n=k(),i&&i.c(),c=A(),j(t,"class","grid grid-cols-1 gap-4 p-2")},m(e,s){h(e,t,s);for(let e=0;e<a.length;e+=1)a[e].m(t,null);h(e,n,s),i&&i.m(e,s),h(e,c,s),r=!0},p(e,n){32&n&&(o=e[5],ne(),a=ie(a,n,l,1,e,o,s,t,le,Xe,null,Ye),ce()),e[4]>1?i?i.p(e,n):(i=Ke(e),i.c(),i.m(c.parentNode,c)):i&&(i.d(1),i=null)},i(e){if(!r){for(let e=0;e<o.length;e+=1)re(a[e]);r=!0}},o(e){for(let e=0;e<a.length;e+=1)ae(a[e]);r=!1},d(e){e&&y(t);for(let e=0;e<a.length;e+=1)a[e].d();e&&y(n),i&&i.d(e),e&&y(c)}}}function Je(e){let t,n,c,r,a,s,o=(e[6].show_all||"Show all accounts")+"";return{c(){t=$("button"),n=$("i"),c=k(),r=_(o),j(n,"class","fas fa-sync-alt mr-1"),j(t,"class","mt-3 text-fleeca-green hover:text-fleeca-light-green text-sm")},m(o,l){h(o,t,l),g(t,n),g(t,c),g(t,r),a||(s=C(t,"click",e[12]),a=!0)},p(e,t){64&t&&o!==(o=(e[6].show_all||"Show all accounts")+"")&&L(r,o)},d(e){e&&y(t),a=!1,s()}}}function Xe(e,t){let n,c,r;return c=new Fe({props:{account:t[13]}}),{key:e,first:null,c(){n=A(),de(c.$$.fragment),this.first=n},m(e,t){h(e,n,t),ue(c,e,t),r=!0},p(e,n){t=e;const r={};32&n&&(r.account=t[13]),c.$set(r)},i(e){r||(re(c.$$.fragment,e),r=!0)},o(e){ae(c.$$.fragment,e),r=!1},d(e){e&&y(n),fe(c,e)}}}function Ke(e){let t,n,c,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A=e[1]+1+"";return{c(){t=$("div"),n=$("button"),c=$("i"),o=k(),l=$("span"),i=_(A),d=_(" / "),u=_(e[4]),f=k(),m=$("button"),b=$("i"),j(c,"class","fas fa-chevron-left"),j(n,"class",a="pagination-btn "+(0===e[1]?"disabled":"")+" svelte-r835wr"),n.disabled=s=0===e[1],j(l,"class","text-fleeca-text-secondary text-sm"),j(b,"class","fas fa-chevron-right"),j(m,"class",p="pagination-btn "+(e[1]===e[4]-1?"disabled":"")+" svelte-r835wr"),m.disabled=x=e[1]===e[4]-1,j(t,"class","flex justify-between items-center mt-4 px-2")},m(r,a){h(r,t,a),g(t,n),g(n,c),g(t,o),g(t,l),g(l,i),g(l,d),g(l,u),g(t,f),g(t,m),g(m,b),v||(w=[C(n,"click",e[8]),C(m,"click",e[7])],v=!0)},p(e,t){2&t&&a!==(a="pagination-btn "+(0===e[1]?"disabled":"")+" svelte-r835wr")&&j(n,"class",a),2&t&&s!==(s=0===e[1])&&(n.disabled=s),2&t&&A!==(A=e[1]+1+"")&&L(i,A),16&t&&L(u,e[4]),18&t&&p!==(p="pagination-btn "+(e[1]===e[4]-1?"disabled":"")+" svelte-r835wr")&&j(m,"class",p),18&t&&x!==(x=e[1]===e[4]-1)&&(m.disabled=x)},d(e){e&&y(t),v=!1,r(w)}}}function Qe(e){let t,n,c,r,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A,M,T,N=(e[6].accounts||"My Cards")+"";l=new We({props:{selectedCategory:e[2]}}),l.$on("categoryChange",e[9]);const E=[Ge,Ze],D=[];function I(e,t){return e[3].length>0?0:1}return v=I(e),w=D[v]=E[v](e),{c(){t=$("aside"),n=$("div"),c=$("h3"),r=$("div"),r.innerHTML='<i class="fas fa-credit-card text-fleeca-green"></i>',a=k(),s=_(N),o=k(),de(l.$$.fragment),i=k(),d=$("div"),u=$("input"),m=k(),b=$("i"),p=k(),x=$("div"),w.c(),j(r,"class","w-10 h-10 rounded-lg bg-fleeca-card flex items-center justify-center mr-3 border border-fleeca-border"),j(c,"class","text-2xl font-semibold text-fleeca-text mb-4 flex items-center font-display"),j(u,"type","text"),j(u,"class","w-full rounded-lg border border-fleeca-border p-3 pl-10 bg-fleeca-card text-fleeca-text focus:border-fleeca-green transition-all"),j(u,"placeholder",f=e[6].account_search||"Search cards..."),j(b,"class","fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-fleeca-text-secondary"),j(d,"class","relative"),j(n,"class","mb-4"),j(x,"class","overflow-y-auto flex-1 pr-2 hide-scrollbar"),j(t,"class","flex-none w-1/3 overflow-hidden flex flex-col")},m(f,y){h(f,t,y),g(t,n),g(n,c),g(c,r),g(c,a),g(c,s),g(n,o),ue(l,n,null),g(n,i),g(n,d),g(d,u),S(u,e[0]),g(d,m),g(d,b),g(t,p),g(t,x),D[v].m(x,null),A=!0,M||(T=C(u,"input",e[11]),M=!0)},p(e,[t]){(!A||64&t)&&N!==(N=(e[6].accounts||"My Cards")+"")&&L(s,N);const n={};4&t&&(n.selectedCategory=e[2]),l.$set(n),(!A||64&t&&f!==(f=e[6].account_search||"Search cards..."))&&j(u,"placeholder",f),1&t&&u.value!==e[0]&&S(u,e[0]);let c=v;v=I(e),v===c?D[v].p(e,t):(ne(),ae(D[c],1,1,(()=>{D[c]=null})),ce(),w=D[v],w?w.p(e,t):(w=D[v]=E[v](e),w.c()),re(w,1),w.m(x,null))},i(e){A||(re(l.$$.fragment,e),re(w),A=!0)},o(e){ae(l.$$.fragment,e),ae(w),A=!1},d(e){e&&y(t),fe(l),D[v].d(),M=!1,T()}}}function et(e,t,n){let c,r,a,s,o;i(e,je,(e=>n(10,s=e))),i(e,Me,(e=>n(6,o=e)));let l="",d=0,u="all";return e.$$.update=()=>{1029&e.$$.dirty&&n(3,c=s&&Array.isArray(s)?s.filter((e=>{const t=e&&e.id&&"string"==typeof e.id&&e.id.toLowerCase().includes((l||"").toLowerCase()),n=!(!(c=e).id||"string"!=typeof c.id)&&/^[a-zA-Z_-]+$/.test(c.id);var c;const r=e.type&&("org"===e.type.toLowerCase()||"organization"===e.type.toLowerCase()),a=!!e.creator;let s=!1;return"all"===u?s=!0:"personal"===u?s=!r&&!a&&!n:"business"===u?s=a:"org"===u&&(s=(r||n)&&!a),t&&s})):[]),8&e.$$.dirty&&n(4,r=Math.ceil(c.length/3)),5&e.$$.dirty&&(l||u)&&n(1,d=0),10&e.$$.dirty&&n(5,a=c.slice(3*d,3*(d+1)))},[l,d,u,c,r,a,o,function(){d<r-1&&n(1,d++,d)},function(){d>0&&n(1,d--,d)},function(e){n(2,u=e.detail)},s,function(){l=this.value,n(0,l)},()=>n(2,u="all")]}class tt extends pe{constructor(e){super(),be(this,e,et,Qe,s,{})}}let nt="USD";function ct(e){return"number"!=typeof e&&(e=0),e.toLocaleString("en-US",{style:"currency",currency:nt})}function rt(t){let n,c,r,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A,C,M,S,N,E,D,I,z,B,R,P,O,F,H,V,U,q,W,Y,Z,G=t[0].title+"",J=t[0].trans_type+"",X=t[0].trans_id.substring(0,8)+"",K=ct(t[0].amount)+"",Q=t[0].receiver+"",ee=t[2](t[0].time)+"",te=t[0].issuer+"",ne=(t[1].message||"Message")+"",ce=t[0].message+"";return{c(){n=$("div"),c=$("div"),r=$("div"),a=$("div"),s=$("div"),o=$("i"),l=k(),i=$("div"),d=$("span"),u=_(G),f=k(),m=$("span"),b=_(J),p=k(),x=$("span"),v=_(X),w=k(),A=$("div"),C=$("div"),M=$("span"),S=_(K),N=k(),E=$("div"),D=_(Q),I=k(),z=$("div"),B=$("div"),R=_(ee),P=k(),O=$("div"),F=_(te),H=k(),V=$("div"),U=$("div"),q=_(ne),W=k(),Y=$("div"),Z=_(ce),j(o,"class",`fas ${t[6]} ${t[4]}`),j(s,"class",`w-8 h-8 rounded-full ${t[5]} flex items-center justify-center border ${t[7]}`),j(d,"class","font-medium text-fleeca-text"),j(m,"class","ml-2 text-xs px-2 py-0.5 bg-fleeca-bg rounded-full"),T(m,"text-red-400",t[3]),T(m,"text-green-400",!t[3]),j(a,"class","flex items-center gap-2"),j(x,"class","text-xs text-fleeca-text-secondary bg-fleeca-bg px-2 py-1 rounded-full"),j(r,"class","flex justify-between items-center mb-3"),j(M,"class",`${t[4]} text-lg font-semibold`),j(E,"class","text-fleeca-text-secondary text-xs mt-1"),j(B,"class","text-fleeca-text text-sm"),j(O,"class","text-fleeca-text-secondary text-xs"),j(z,"class","text-right"),j(A,"class","flex justify-between items-center mb-3"),j(U,"class","text-fleeca-text-secondary text-xs mb-1"),j(Y,"class","text-fleeca-text text-sm"),j(V,"class","bg-fleeca-bg p-3 rounded-lg mt-2 group-hover:bg-fleeca-hover transition-colors duration-300 border border-fleeca-border"),j(c,"class","p-4"),j(n,"class","bg-fleeca-card rounded-lg overflow-hidden group animate-slideUp border border-fleeca-border hover:shadow-card transition-all")},m(e,t){h(e,n,t),g(n,c),g(c,r),g(r,a),g(a,s),g(s,o),g(a,l),g(a,i),g(i,d),g(d,u),g(i,f),g(i,m),g(m,b),g(r,p),g(r,x),g(x,v),g(c,w),g(c,A),g(A,C),g(C,M),g(M,S),g(C,N),g(C,E),g(E,D),g(A,I),g(A,z),g(z,B),g(B,R),g(z,P),g(z,O),g(O,F),g(c,H),g(c,V),g(V,U),g(U,q),g(V,W),g(V,Y),g(Y,Z)},p(e,[t]){1&t&&G!==(G=e[0].title+"")&&L(u,G),1&t&&J!==(J=e[0].trans_type+"")&&L(b,J),1&t&&X!==(X=e[0].trans_id.substring(0,8)+"")&&L(v,X),1&t&&K!==(K=ct(e[0].amount)+"")&&L(S,K),1&t&&Q!==(Q=e[0].receiver+"")&&L(D,Q),1&t&&ee!==(ee=e[2](e[0].time)+"")&&L(R,ee),1&t&&te!==(te=e[0].issuer+"")&&L(F,te),2&t&&ne!==(ne=(e[1].message||"Message")+"")&&L(q,ne),1&t&&ce!==(ce=e[0].message+"")&&L(Z,ce)},i:e,o:e,d(e){e&&y(n)}}}function at(e,t,n){let{transaction:c}=t,r=l(Me);const a="withdraw"===c.trans_type,s=a?"text-red-400":"text-green-400",o=a?"bg-red-900/30":"bg-green-900/30",i=a?"fa-arrow-up":"fa-arrow-down",d=a?"border-red-800/50":"border-green-800/50";return e.$$set=e=>{"transaction"in e&&n(0,c=e.transaction)},[c,r,function(e){let t;const c=Math.floor(Date.now()/1e3)-e,a=Math.floor(c/60),s=Math.floor(a/60),o=Math.floor(s/24),l=Math.floor(o/7);return r||n(1,r={}),t=0!==l&&l>1?r.weeks?r.weeks.replace("%s",l.toString()):`${l} weeks ago`:0!==l&&1===l?r.aweek||"A week ago":0!==o&&o>1?r.days?r.days.replace("%s",o.toString()):`${o} days ago`:0!==o&&1===o?r.aday||"A day ago":0!==s&&s>1?r.hours?r.hours.replace("%s",s.toString()):`${s} hours ago`:0!==s&&1===s?r.ahour||"An hour ago":0!==a&&a>1?r.mins?r.mins.replace("%s",a.toString()):`${a} minutes ago`:0!==a&&1===a?r.amin||"A minute ago":r.secs||"A few seconds ago",t},a,s,o,i,d]}Ae.subscribe((e=>{nt=e||"USD"}));class st extends pe{constructor(e){super(),be(this,e,at,rt,s,{transaction:0})}}function ot(e,t,n){const c=e.slice();return c[17]=t[n],c}function lt(t){let n,c,r,a,s,o,l,i,d=(t[4]&&t[4].select_account?t[4].select_account:"Select a card")+"";return{c(){n=$("div"),c=$("div"),r=$("div"),r.innerHTML='<i class="fas fa-credit-card text-fleeca-green text-3xl"></i>',a=k(),s=$("h3"),o=_(d),l=k(),i=$("p"),i.textContent="Choose a card from the left to view details and manage your finances",j(r,"class","w-20 h-20 mx-auto bg-fleeca-bg rounded-full flex items-center justify-center mb-6"),j(s,"class","text-fleeca-text font-medium text-xl mb-3 font-display"),j(i,"class","text-fleeca-text-secondary"),j(c,"class","text-center py-12 px-6 bg-fleeca-card rounded-lg border border-fleeca-border animate-fadeIn max-w-md shadow-md"),j(n,"class","flex-1 flex items-center justify-center")},m(e,t){h(e,n,t),g(n,c),g(c,r),g(c,a),g(c,s),g(s,o),g(c,l),g(c,i)},p(e,t){16&t&&d!==(d=(e[4]&&e[4].select_account?e[4].select_account:"Select a card")+"")&&L(o,d)},i:e,o:e,d(e){e&&y(n)}}}function it(e){let t,n,c,r,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A,M,T,N,E,D,I,z,B,R,P,O,F,H,V,U,q,W,Y,Z,G,J,X,K,Q,ee,te,se,oe,le=("personal"===e[3].type||"Personal"===e[3].type?"Personal Account":"business"===e[3].type||"Business"===e[3].type?"Business Account":e[3].organisation||"Personal Account")+"",ie=e[3].name+"",de=e[3].id+"",ue=(e[4].balance||"Available Balance")+"",fe=e[7](e[3].amount)+"",me=(e[4].transactions||"Transactions")+"",be=e[3].isFrozen&&dt(e),pe=!e[3].isFrozen&&ut(e),ge=!e[2]&&e[3].transactions&&e[3].transactions.length>0&&mt(e);const xe=[pt,bt],ve=[];function he(e,t){return 8&t&&(K=null),null==K&&(K=!!(e[3].transactions&&Array.isArray(e[3].transactions)&&e[3].transactions.length>0)),K?0:1}return Q=he(e,-1),ee=ve[Q]=xe[Q](e),{c(){var g,h,y,C;t=$("div"),n=$("div"),c=$("div"),r=$("div"),a=$("h2"),s=_(le),o=k(),l=$("div"),i=$("i"),d=k(),u=$("span"),f=_(ie),m=k(),b=$("div"),p=_(de),x=k(),be&&be.c(),v=k(),w=$("div"),A=$("h2"),M=_(ue),T=k(),N=$("div"),E=_(fe),D=k(),I=$("div"),z=k(),pe&&pe.c(),B=k(),R=$("div"),P=$("h3"),O=$("div"),O.innerHTML='<i class="fa-solid fa-receipt text-fleeca-green"></i>',F=k(),H=_(me),V=k(),ge&&ge.c(),U=k(),q=$("div"),W=$("input"),Z=k(),G=$("i"),J=k(),X=$("div"),ee.c(),j(a,"class","text-xs uppercase tracking-wider text-white/80 font-medium mb-1"),j(i,"class","fas fa-university mr-2"),j(u,"class","font-medium"),j(l,"class","flex items-center"),j(b,"class","text-xs text-white/80 mt-1"),j(c,"class","flex justify-between items-start mb-4"),j(A,"class","text-sm text-white/80 font-medium mb-1"),j(N,"class","text-4xl font-bold"),g=N,h="transition",null===(y="none")?g.style.removeProperty(h):g.style.setProperty(h,y,C?"important":""),j(w,"class","mb-4"),j(n,"class","p-6 bg-gradient-to-r from-fleeca-green/90 to-fleeca-dark-green text-white"),j(I,"class","border-t border-b border-fleeca-border"),j(t,"class","bg-fleeca-card rounded-xl mb-6 shadow-lg overflow-hidden border border-fleeca-border"),j(O,"class","w-8 h-8 rounded-lg bg-fleeca-green/10 flex items-center justify-center mr-3 border border-fleeca-green/20"),j(P,"class","text-xl font-semibold text-fleeca-text flex items-center font-display"),j(R,"class","mb-4 flex justify-between items-center"),j(W,"type","text"),j(W,"class","w-full rounded-lg border border-fleeca-border p-3 pl-10 bg-fleeca-card text-fleeca-text focus:border-fleeca-green transition-all"),j(W,"placeholder",Y=e[4].trans_search||"Search transactions..."),j(G,"class","fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-fleeca-text-secondary"),j(q,"class","relative mb-4"),j(X,"class","overflow-y-auto flex-1 pr-2 hide-scrollbar bg-fleeca-bg rounded-lg p-4 border border-fleeca-border")},m(y,$){h(y,t,$),g(t,n),g(n,c),g(c,r),g(r,a),g(a,s),g(r,o),g(r,l),g(l,i),g(l,d),g(l,u),g(u,f),g(r,m),g(r,b),g(b,p),g(c,x),be&&be.m(c,null),g(n,v),g(n,w),g(w,A),g(A,M),g(w,T),g(w,N),g(N,E),e[11](N),g(t,D),g(t,I),g(t,z),pe&&pe.m(t,null),h(y,B,$),h(y,R,$),g(R,P),g(P,O),g(P,F),g(P,H),g(R,V),ge&&ge.m(R,null),h(y,U,$),h(y,q,$),g(q,W),S(W,e[0]),g(q,Z),g(q,G),h(y,J,$),h(y,X,$),ve[Q].m(X,null),te=!0,se||(oe=C(W,"input",e[15]),se=!0)},p(e,n){(!te||8&n)&&le!==(le=("personal"===e[3].type||"Personal"===e[3].type?"Personal Account":"business"===e[3].type||"Business"===e[3].type?"Business Account":e[3].organisation||"Personal Account")+"")&&L(s,le),(!te||8&n)&&ie!==(ie=e[3].name+"")&&L(f,ie),(!te||8&n)&&de!==(de=e[3].id+"")&&L(p,de),e[3].isFrozen?be?be.p(e,n):(be=dt(e),be.c(),be.m(c,null)):be&&(be.d(1),be=null),(!te||16&n)&&ue!==(ue=(e[4].balance||"Available Balance")+"")&&L(M,ue),(!te||8&n)&&fe!==(fe=e[7](e[3].amount)+"")&&L(E,fe),e[3].isFrozen?pe&&(pe.d(1),pe=null):pe?pe.p(e,n):(pe=ut(e),pe.c(),pe.m(t,null)),(!te||16&n)&&me!==(me=(e[4].transactions||"Transactions")+"")&&L(H,me),!e[2]&&e[3].transactions&&e[3].transactions.length>0?ge?ge.p(e,n):(ge=mt(e),ge.c(),ge.m(R,null)):ge&&(ge.d(1),ge=null),(!te||16&n&&Y!==(Y=e[4].trans_search||"Search transactions..."))&&j(W,"placeholder",Y),1&n&&W.value!==e[0]&&S(W,e[0]);let r=Q;Q=he(e,n),Q===r?ve[Q].p(e,n):(ne(),ae(ve[r],1,1,(()=>{ve[r]=null})),ce(),ee=ve[Q],ee?ee.p(e,n):(ee=ve[Q]=xe[Q](e),ee.c()),re(ee,1),ee.m(X,null))},i(e){te||(re(ee),te=!0)},o(e){ae(ee),te=!1},d(n){n&&y(t),be&&be.d(),e[11](null),pe&&pe.d(),n&&y(B),n&&y(R),ge&&ge.d(),n&&y(U),n&&y(q),n&&y(J),n&&y(X),ve[Q].d(),se=!1,oe()}}}function dt(e){let t,n,c,r,a=(e[4].frozen||"Frozen")+"";return{c(){t=$("span"),n=$("i"),c=k(),r=_(a),j(n,"class","fa-solid fa-lock mr-1 text-xs"),j(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-500/20 text-white border border-red-500/30")},m(e,a){h(e,t,a),g(t,n),g(t,c),g(t,r)},p(e,t){16&t&&a!==(a=(e[4].frozen||"Frozen")+"")&&L(r,a)},d(e){e&&y(t)}}}function ut(e){let t,n,c,a,s,o,l,i,d,u,f,m,b,p,x,v=(e[4].withdraw_but||"Withdraw")+"",w=(e[4].transfer_but||"Transfer")+"",A=!e[2]&&ft(e);return{c(){t=$("div"),A&&A.c(),n=k(),c=$("button"),a=$("i"),s=k(),o=$("span"),l=_(v),i=k(),d=$("button"),u=$("i"),f=k(),m=$("span"),b=_(w),j(a,"class","fas fa-arrow-up mr-2"),j(c,"class","flex items-center justify-center py-3 px-2 bg-fleeca-hover text-fleeca-text rounded-lg font-medium hover:bg-fleeca-bg transition-all border border-fleeca-border shadow-sm"),j(u,"class","fas fa-exchange-alt mr-2"),j(d,"class","flex items-center justify-center py-3 px-2 bg-fleeca-hover text-fleeca-text rounded-lg font-medium hover:bg-fleeca-bg transition-all border border-fleeca-border shadow-sm"),T(d,"col-span-2",e[2]),j(t,"class","grid grid-cols-3 gap-3 p-4 bg-fleeca-card")},m(r,v){h(r,t,v),A&&A.m(t,null),g(t,n),g(t,c),g(c,a),g(c,s),g(c,o),g(o,l),g(t,i),g(t,d),g(d,u),g(d,f),g(d,m),g(m,b),p||(x=[C(c,"click",e[13]),C(d,"click",e[14])],p=!0)},p(e,c){e[2]?A&&(A.d(1),A=null):A?A.p(e,c):(A=ft(e),A.c(),A.m(t,n)),16&c&&v!==(v=(e[4].withdraw_but||"Withdraw")+"")&&L(l,v),16&c&&w!==(w=(e[4].transfer_but||"Transfer")+"")&&L(b,w),4&c&&T(d,"col-span-2",e[2])},d(e){e&&y(t),A&&A.d(),p=!1,r(x)}}}function ft(e){let t,n,c,r,a,s,o,l=(e[4].deposit_but||"Deposit")+"";return{c(){t=$("button"),n=$("i"),c=k(),r=$("span"),a=_(l),j(n,"class","fas fa-arrow-down text-white mr-2"),j(t,"class","flex items-center justify-center py-3 px-2 bg-fleeca-green text-white rounded-lg font-medium hover:bg-fleeca-dark-green transition-all shadow-sm")},m(l,i){h(l,t,i),g(t,n),g(t,c),g(t,r),g(r,a),s||(o=C(t,"click",e[12]),s=!0)},p(e,t){16&t&&l!==(l=(e[4].deposit_but||"Deposit")+"")&&L(a,l)},d(e){e&&y(t),s=!1,o()}}}function mt(e){let t,n,c,r,a,s,o=(e[4].export_data||"Export Data")+"";return{c(){t=$("button"),n=$("i"),c=k(),r=_(o),j(n,"class","fa-solid fa-file-export mr-1"),j(t,"class","py-1 px-3 bg-fleeca-hover text-fleeca-text rounded-md text-xs font-medium hover:bg-fleeca-bg transition-colors border border-fleeca-border flex items-center")},m(o,l){var i;h(o,t,l),g(t,n),g(t,c),g(t,r),a||(s=C(t,"click",(i=e[5],function(e){return e.preventDefault(),i.call(this,e)})),a=!0)},p(e,t){16&t&&o!==(o=(e[4].export_data||"Export Data")+"")&&L(r,o)},d(e){e&&y(t),a=!1,s()}}}function bt(t){let n,c,r,a,s,o=(t[4]&&t[4].trans_not_found?t[4].trans_not_found:"No transactions found")+"";return{c(){n=$("div"),c=$("div"),c.innerHTML='<i class="fa-solid fa-receipt text-fleeca-text-secondary text-2xl"></i>',r=k(),a=$("h3"),s=_(o),j(c,"class","w-16 h-16 mx-auto bg-fleeca-bg rounded-full flex items-center justify-center mb-4"),j(a,"class","text-fleeca-text font-medium"),j(n,"class","text-center py-8 bg-fleeca-card rounded-lg border border-fleeca-border animate-fadeIn shadow-sm")},m(e,t){h(e,n,t),g(n,c),g(n,r),g(n,a),g(a,s)},p(e,t){16&t&&o!==(o=(e[4]&&e[4].trans_not_found?e[4].trans_not_found:"No transactions found")+"")&&L(s,o)},i:e,o:e,d(e){e&&y(n)}}}function pt(e){let t,n,c,r,a;const s=[xt,gt],o=[];function l(e,n){return 9&n&&(t=null),null==t&&(t=!!(e[3].transactions.filter(e[10]).length>0)),t?0:1}return n=l(e,-1),c=o[n]=s[n](e),{c(){c.c(),r=A()},m(e,t){o[n].m(e,t),h(e,r,t),a=!0},p(e,t){let a=n;n=l(e,t),n===a?o[n].p(e,t):(ne(),ae(o[a],1,1,(()=>{o[a]=null})),ce(),c=o[n],c?c.p(e,t):(c=o[n]=s[n](e),c.c()),re(c,1),c.m(r.parentNode,r))},i(e){a||(re(c),a=!0)},o(e){ae(c),a=!1},d(e){o[n].d(e),e&&y(r)}}}function gt(t){let n,c,r,a,s,o=(t[4]&&t[4].trans_not_found?t[4].trans_not_found:"No transactions found")+"";return{c(){n=$("div"),c=$("div"),c.innerHTML='<i class="fa-solid fa-receipt text-fleeca-text-secondary text-2xl"></i>',r=k(),a=$("h3"),s=_(o),j(c,"class","w-16 h-16 mx-auto bg-fleeca-bg rounded-full flex items-center justify-center mb-4"),j(a,"class","text-fleeca-text font-medium"),j(n,"class","text-center py-8 bg-fleeca-card rounded-lg border border-fleeca-border animate-fadeIn shadow-sm")},m(e,t){h(e,n,t),g(n,c),g(n,r),g(n,a),g(a,s)},p(e,t){16&t&&o!==(o=(e[4]&&e[4].trans_not_found?e[4].trans_not_found:"No transactions found")+"")&&L(s,o)},i:e,o:e,d(e){e&&y(n)}}}function xt(e){let t,n,c=[],r=new Map,a=e[3].transactions.filter(e[16]);const s=e=>e[17].trans_id;for(let t=0;t<a.length;t+=1){let n=ot(e,a,t),o=s(n);r.set(o,c[t]=vt(o,n))}return{c(){t=$("div");for(let e=0;e<c.length;e+=1)c[e].c();j(t,"class","space-y-3 animate-fadeIn")},m(e,r){h(e,t,r);for(let e=0;e<c.length;e+=1)c[e].m(t,null);n=!0},p(e,n){9&n&&(a=e[3].transactions.filter(e[16]),ne(),c=ie(c,n,s,1,e,a,r,t,le,vt,null,ot),ce())},i(e){if(!n){for(let e=0;e<a.length;e+=1)re(c[e]);n=!0}},o(e){for(let e=0;e<c.length;e+=1)ae(c[e]);n=!1},d(e){e&&y(t);for(let e=0;e<c.length;e+=1)c[e].d()}}}function vt(e,t){let n,c,r;return c=new st({props:{transaction:t[17]}}),{key:e,first:null,c(){n=A(),de(c.$$.fragment),this.first=n},m(e,t){h(e,n,t),ue(c,e,t),r=!0},p(e,n){t=e;const r={};9&n&&(r.transaction=t[17]),c.$set(r)},i(e){r||(re(c.$$.fragment,e),r=!0)},o(e){ae(c.$$.fragment,e),r=!1},d(e){e&&y(n),fe(c,e)}}}function ht(e){let t,n,c,r;const a=[it,lt],s=[];function o(e,t){return e[3]?0:1}return n=o(e),c=s[n]=a[n](e),{c(){t=$("section"),c.c(),j(t,"class","flex-1 overflow-hidden flex flex-col")},m(e,c){h(e,t,c),s[n].m(t,null),r=!0},p(e,[r]){let l=n;n=o(e),n===l?s[n].p(e,r):(ne(),ae(s[l],1,1,(()=>{s[l]=null})),ce(),c=s[n],c?c.p(e,r):(c=s[n]=a[n](e),c.c()),re(c,1),c.m(t,null))},i(e){r||(re(c),r=!0)},o(e){ae(c),r=!1},d(e){e&&y(t),s[n].d()}}}function yt(e,t,n){let c,r,a,s;i(e,_e,(e=>n(8,r=e))),i(e,je,(e=>n(9,a=e))),i(e,Me,(e=>n(4,s=e)));let o,d="";let u=!1;function f(e,t){const n=l(je);if(!n||!Array.isArray(n))return;let c=n.find((t=>e===(null==t?void 0:t.id)));c&&Ce.update((()=>({actionType:t,account:c})))}ke.subscribe((e=>{n(2,u=e)}));return e.$$.update=()=>{768&e.$$.dirty&&n(3,c=r&&a&&Array.isArray(a)?a.find((e=>r===(null==e?void 0:e.id))):null)},[d,o,u,c,s,function(){if(!c)return console.log("No card selected"),$e.set("No card selected!"),void setTimeout((()=>{$e.set("")}),3500);if(!c.transactions||!Array.isArray(c.transactions)||0===c.transactions.length)return $e.set("No transactions to export!"),void setTimeout((()=>{$e.set("")}),3500);(e=>{const t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})((e=>{const t=Object.keys(e[0]),n=(e,t)=>null===t?"":t;let c=e.map((e=>t.map((t=>JSON.stringify(e[t],n))).join(",")));return c.unshift(t.join(",")),c=c.join("\r\n"),c})(c.transactions)),$e.set("Data copied to clipboard!"),setTimeout((()=>{$e.set("")}),3500)},f,function(e){return e||0===e?ct(e):""},r,a,e=>e&&e.message&&"string"==typeof e.message&&(e.message.toLowerCase().includes((d||"").toLowerCase())||e.trans_id&&"string"==typeof e.trans_id&&e.trans_id.toLowerCase().includes((d||"").toLowerCase())||e.receiver&&"string"==typeof e.receiver&&e.receiver.toLowerCase().includes((d||"").toLowerCase())),function(e){H[e?"unshift":"push"]((()=>{o=e,n(1,o)}))},()=>f(c.id,"deposit"),()=>f(c.id,"withdraw"),()=>f(c.id,"transfer"),function(){d=this.value,n(0,d)},e=>e&&e.message&&"string"==typeof e.message&&(e.message.toLowerCase().includes((d||"").toLowerCase())||e.trans_id&&"string"==typeof e.trans_id&&e.trans_id.toLowerCase().includes((d||"").toLowerCase())||e.receiver&&"string"==typeof e.receiver&&e.receiver.toLowerCase().includes((d||"").toLowerCase()))]}class wt extends pe{constructor(e){super(),be(this,e,yt,ht,s,{})}}function $t(e,t,n){const c=e.slice();return c[8]=t[n],c}function _t(e){let t,n=e[0],c=[];for(let t=0;t<n.length;t+=1)c[t]=At($t(e,n,t));return{c(){t=$("div");for(let e=0;e<c.length;e+=1)c[e].c();j(t,"class","grid grid-cols-1 gap-4")},m(e,n){h(e,t,n);for(let e=0;e<c.length;e+=1)c[e].m(t,null)},p(e,r){if(31&r){let a;for(n=e[0],a=0;a<n.length;a+=1){const s=$t(e,n,a);c[a]?c[a].p(s,r):(c[a]=At(s),c[a].c(),c[a].m(t,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=n.length}},d(e){e&&y(t),w(c,e)}}}function kt(e){let t,n,c,r,a,s,o,l,i=(e[4].no_account||"No accounts found")+"",d=(e[4].no_account_txt||"You need to be the creator")+"";return{c(){t=$("div"),n=$("div"),n.innerHTML='<i class="fas fa-credit-card text-fleeca-text-secondary text-2xl"></i>',c=k(),r=$("h3"),a=_(i),s=k(),o=$("p"),l=_(d),j(n,"class","w-16 h-16 mx-auto bg-fleeca-bg rounded-full flex items-center justify-center mb-4"),j(r,"class","text-fleeca-text font-medium"),j(o,"class","text-fleeca-text-secondary mt-2"),j(t,"class","text-center py-8 bg-fleeca-card rounded-lg border border-fleeca-border animate-fadeIn shadow-card")},m(e,i){h(e,t,i),g(t,n),g(t,c),g(t,r),g(r,a),g(t,s),g(t,o),g(o,l)},p(e,t){16&t&&i!==(i=(e[4].no_account||"No accounts found")+"")&&L(a,i),16&t&&d!==(d=(e[4].no_account_txt||"You need to be the creator")+"")&&L(l,d)},d(e){e&&y(t)}}}function At(e){let t,n,c,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A,M,S,T,N,E,D,I,z=e[8]+"",B=(e[4].account_id||"Account ID")+"",R=e[8]+"";function P(){return e[5](e[8])}function O(){return e[6](e[8])}function F(){return e[7](e[8])}return{c(){t=$("div"),n=$("div"),c=$("h4"),a=_(z),s=k(),o=$("div"),l=$("button"),i=$("i"),u=k(),f=$("button"),m=$("i"),p=k(),x=$("button"),v=$("i"),A=k(),M=$("div"),S=_(B),T=_(": "),N=_(R),E=k(),j(c,"class","text-fleeca-text font-medium"),j(i,"class","fas fa-users"),j(l,"class","w-8 h-8 rounded-full bg-fleeca-bg flex items-center justify-center text-fleeca-text-secondary hover:text-fleeca-text transition-colors"),j(l,"title",d=e[4].manage_members||"Manage Members"),j(m,"class","fas fa-edit"),j(f,"class","w-8 h-8 rounded-full bg-fleeca-bg flex items-center justify-center text-fleeca-text-secondary hover:text-fleeca-text transition-colors"),j(f,"title",b=e[4].edit_acc_name||"Change Account Name"),j(v,"class","fas fa-trash-alt"),j(x,"class","w-8 h-8 rounded-full bg-fleeca-bg flex items-center justify-center text-red-400 hover:text-red-500 transition-colors"),j(x,"title",w=e[4].delete_account||"Delete Account"),j(o,"class","flex space-x-2"),j(n,"class","flex justify-between items-center mb-3"),j(M,"class","text-fleeca-text-secondary text-sm"),j(t,"class","bg-fleeca-card rounded-lg border border-fleeca-border p-4 hover:shadow-card transition-all")},m(e,r){h(e,t,r),g(t,n),g(n,c),g(c,a),g(n,s),g(n,o),g(o,l),g(l,i),g(o,u),g(o,f),g(f,m),g(o,p),g(o,x),g(x,v),g(t,A),g(t,M),g(M,S),g(M,T),g(M,N),g(t,E),D||(I=[C(l,"click",P),C(f,"click",O),C(x,"click",F)],D=!0)},p(t,n){e=t,1&n&&z!==(z=e[8]+"")&&L(a,z),16&n&&d!==(d=e[4].manage_members||"Manage Members")&&j(l,"title",d),16&n&&b!==(b=e[4].edit_acc_name||"Change Account Name")&&j(f,"title",b),16&n&&w!==(w=e[4].delete_account||"Delete Account")&&j(x,"title",w),16&n&&B!==(B=(e[4].account_id||"Account ID")+"")&&L(S,B),1&n&&R!==(R=e[8]+"")&&L(N,R)},d(e){e&&y(t),D=!1,r(I)}}}function Ct(t){let n,c,r,a,s=(t[4].manage_account||"Manage Existing Accounts")+"";function o(e,t){return 0===e[0].length?kt:_t}let l=o(t),i=l(t);return{c(){n=$("div"),c=$("h3"),r=_(s),a=k(),i.c(),j(c,"class","text-lg font-medium text-fleeca-text"),j(n,"class","space-y-4")},m(e,t){h(e,n,t),g(n,c),g(c,r),g(n,a),i.m(n,null)},p(e,[t]){16&t&&s!==(s=(e[4].manage_account||"Manage Existing Accounts")+"")&&L(r,s),l===(l=o(e))&&i?i.p(e,t):(i.d(1),i=l(e),i&&(i.c(),i.m(n,null)))},i:e,o:e,d(e){e&&y(n),i.d()}}}function jt(e,t,n){let c;i(e,Me,(e=>n(4,c=e)));let{accounts:r=[]}=t,{onViewMembers:a=(e=>{})}=t,{onEditAccount:s=(e=>{})}=t,{onDeleteAccount:o=(e=>{})}=t;return e.$$set=e=>{"accounts"in e&&n(0,r=e.accounts),"onViewMembers"in e&&n(1,a=e.onViewMembers),"onEditAccount"in e&&n(2,s=e.onEditAccount),"onDeleteAccount"in e&&n(3,o=e.onDeleteAccount)},[r,a,s,o,c,e=>a(e),e=>s(e),e=>o(e)]}class Mt extends pe{constructor(e){super(),be(this,e,jt,Ct,s,{accounts:0,onViewMembers:1,onEditAccount:2,onDeleteAccount:3})}}function Lt(e,t,n){const c=e.slice();return c[9]=t[n][0],c[10]=t[n][1],c}function St(e){let t,n=Object.entries(e[1]),c=[];for(let t=0;t<n.length;t+=1)c[t]=Nt(Lt(e,n,t));return{c(){t=$("div");for(let e=0;e<c.length;e+=1)c[e].c();j(t,"class","space-y-2")},m(e,n){h(e,t,n);for(let e=0;e<c.length;e+=1)c[e].m(t,null)},p(e,r){if(22&r){let a;for(n=Object.entries(e[1]),a=0;a<n.length;a+=1){const s=Lt(e,n,a);c[a]?c[a].p(s,r):(c[a]=Nt(s),c[a].c(),c[a].m(t,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=n.length}},d(e){e&&y(t),w(c,e)}}}function Tt(e){let t,n,c,r=(e[4].no_members||"No members found")+"";return{c(){t=$("div"),n=$("p"),c=_(r),j(n,"class","text-fleeca-text-secondary"),j(t,"class","text-center py-4")},m(e,r){h(e,t,r),g(t,n),g(n,c)},p(e,t){16&t&&r!==(r=(e[4].no_members||"No members found")+"")&&L(c,r)},d(e){e&&y(t)}}}function Nt(e){let t,n,c,r,a,s,o,l,i,d,u,f,m,b,p=e[10]+"",x=e[9]+"";function v(){return e[8](e[9])}return{c(){t=$("div"),n=$("div"),c=$("div"),r=_(p),a=k(),s=$("div"),o=_(x),l=k(),i=$("button"),d=$("i"),f=k(),j(c,"class","text-fleeca-text"),j(s,"class","text-fleeca-text-secondary text-sm"),j(d,"class","fas fa-user-minus"),j(i,"class","w-8 h-8 rounded-full bg-fleeca-card flex items-center justify-center text-red-400 hover:text-red-500 transition-colors"),j(i,"title",u=e[4].remove_member||"Remove Member"),j(t,"class","flex justify-between items-center p-3 bg-fleeca-bg rounded-lg border border-fleeca-border")},m(e,u){h(e,t,u),g(t,n),g(n,c),g(c,r),g(n,a),g(n,s),g(s,o),g(t,l),g(t,i),g(i,d),g(t,f),m||(b=C(i,"click",v),m=!0)},p(t,n){e=t,2&n&&p!==(p=e[10]+"")&&L(r,p),2&n&&x!==(x=e[9]+"")&&L(o,x),16&n&&u!==(u=e[4].remove_member||"Remove Member")&&j(i,"title",u)},d(e){e&&y(t),m=!1,b()}}}function Et(t){let n,c,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A,M,T,N,E,D,I,z,B,R,P,O,F,H,V,U,q=(t[4].manage_members||"Manage Account Members")+"",W=(t[4].account||"Account")+"",Y=(t[4].add_member||"Add Citizen To Account")+"",Z=(t[4].add_member_txt||"Be careful who you add (Requires Citizen ID)")+"",G=(t[4].add_member||"Add Member")+"",J=(t[4].view_members||"View All Account Members")+"";function X(e,t){return 2&t&&(H=null),null==H&&(H=!(0!==Object.keys(e[1]).length)),H?Tt:St}let K=X(t,-1),Q=K(t);return{c(){n=$("div"),c=$("h3"),a=_(q),s=k(),o=$("p"),l=_(W),i=_(": "),d=_(t[0]),u=k(),f=$("div"),m=$("h4"),b=_(Y),p=k(),x=$("p"),v=_(Z),w=k(),A=$("div"),M=$("input"),N=k(),E=$("button"),D=$("i"),I=k(),z=_(G),B=k(),R=$("div"),P=$("h4"),O=_(J),F=k(),Q.c(),j(c,"class","text-lg font-medium text-fleeca-text"),j(o,"class","text-fleeca-text-secondary"),j(m,"class","text-fleeca-text font-medium mb-3"),j(x,"class","text-fleeca-text-secondary text-sm mb-3"),j(M,"type","text"),j(M,"placeholder",T=t[4].citizen_id||"Citizen/State ID"),j(M,"class","flex-1 rounded-lg border border-fleeca-border p-3 bg-fleeca-bg text-fleeca-text focus:border-fleeca-green transition-all"),j(D,"class","fas fa-plus mr-1"),j(E,"class","py-3 px-4 bg-fleeca-green text-white rounded-md text-sm font-medium hover:bg-fleeca-dark-green transition-colors"),j(A,"class","flex space-x-2"),j(f,"class","bg-fleeca-card rounded-lg border border-fleeca-border p-4"),j(P,"class","text-fleeca-text font-medium mb-3"),j(R,"class","bg-fleeca-card rounded-lg border border-fleeca-border p-4"),j(n,"class","space-y-4")},m(e,r){h(e,n,r),g(n,c),g(c,a),g(n,s),g(n,o),g(o,l),g(o,i),g(o,d),g(n,u),g(n,f),g(f,m),g(m,b),g(f,p),g(f,x),g(x,v),g(f,w),g(f,A),g(A,M),S(M,t[3]),g(A,N),g(A,E),g(E,D),g(E,I),g(E,z),g(n,B),g(n,R),g(R,P),g(P,O),g(R,F),Q.m(R,null),V||(U=[C(M,"input",t[7]),C(E,"click",t[5])],V=!0)},p(e,[t]){16&t&&q!==(q=(e[4].manage_members||"Manage Account Members")+"")&&L(a,q),16&t&&W!==(W=(e[4].account||"Account")+"")&&L(l,W),1&t&&L(d,e[0]),16&t&&Y!==(Y=(e[4].add_member||"Add Citizen To Account")+"")&&L(b,Y),16&t&&Z!==(Z=(e[4].add_member_txt||"Be careful who you add (Requires Citizen ID)")+"")&&L(v,Z),16&t&&T!==(T=e[4].citizen_id||"Citizen/State ID")&&j(M,"placeholder",T),8&t&&M.value!==e[3]&&S(M,e[3]),16&t&&G!==(G=(e[4].add_member||"Add Member")+"")&&L(z,G),16&t&&J!==(J=(e[4].view_members||"View All Account Members")+"")&&L(O,J),K===(K=X(e,t))&&Q?Q.p(e,t):(Q.d(1),Q=K(e),Q&&(Q.c(),Q.m(R,null)))},i:e,o:e,d(e){e&&y(n),Q.d(),V=!1,r(U)}}}function Dt(e,t,n){let c;i(e,Me,(e=>n(4,c=e)));let{account:r=""}=t,{members:a={}}=t,{onAddMember:s=(e=>{})}=t,{onRemoveMember:o=(e=>{})}=t,l="";return e.$$set=e=>{"account"in e&&n(0,r=e.account),"members"in e&&n(1,a=e.members),"onAddMember"in e&&n(6,s=e.onAddMember),"onRemoveMember"in e&&n(2,o=e.onRemoveMember)},[r,a,o,l,c,function(){l.trim()&&(s({memberId:l.trim()}),n(3,l=""))},s,function(){l=this.value,n(3,l)},e=>o(e)]}class It extends pe{constructor(e){super(),be(this,e,Dt,Et,s,{account:0,members:1,onAddMember:6,onRemoveMember:2})}}function zt(t){let n,c,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A,M,T,N,E,D,I,z,B=(t[1].create_account||"Create New Account")+"",R=(t[1].create_account_txt||"Create a new sub bank account!")+"",P=(t[1].account_id||"Account ID (NO SPACES)")+"",O=(t[1].account_id_hint||"Use lowercase letters, numbers, and underscores only")+"",F=(t[1].create_account||"Create Account")+"";return{c(){n=$("div"),c=$("h3"),a=_(B),s=k(),o=$("p"),l=_(R),i=k(),d=$("div"),u=$("div"),f=$("div"),m=$("label"),b=_(P),p=k(),x=$("input"),v=k(),w=$("p"),A=_(O),M=k(),T=$("button"),N=$("i"),E=k(),D=_(F),j(c,"class","text-lg font-medium text-fleeca-text"),j(o,"class","text-fleeca-text-secondary"),j(m,"for","accountId"),j(m,"class","block text-fleeca-text font-medium mb-1"),j(x,"type","text"),j(x,"id","accountId"),j(x,"placeholder","a_test_account"),j(x,"class","w-full rounded-lg border border-fleeca-border p-3 bg-fleeca-bg text-fleeca-text focus:border-fleeca-green transition-all"),j(w,"class","text-fleeca-text-secondary text-sm mt-1"),j(N,"class","fas fa-plus-circle mr-1"),j(T,"class","w-full py-3 px-4 bg-fleeca-green text-white rounded-md text-sm font-medium hover:bg-fleeca-dark-green transition-colors"),j(u,"class","space-y-4"),j(d,"class","bg-fleeca-card rounded-lg border border-fleeca-border p-4"),j(n,"class","space-y-4")},m(e,r){h(e,n,r),g(n,c),g(c,a),g(n,s),g(n,o),g(o,l),g(n,i),g(n,d),g(d,u),g(u,f),g(f,m),g(m,b),g(f,p),g(f,x),S(x,t[0]),g(f,v),g(f,w),g(w,A),g(u,M),g(u,T),g(T,N),g(T,E),g(T,D),I||(z=[C(x,"input",t[4]),C(T,"click",t[2])],I=!0)},p(e,[t]){2&t&&B!==(B=(e[1].create_account||"Create New Account")+"")&&L(a,B),2&t&&R!==(R=(e[1].create_account_txt||"Create a new sub bank account!")+"")&&L(l,R),2&t&&P!==(P=(e[1].account_id||"Account ID (NO SPACES)")+"")&&L(b,P),1&t&&x.value!==e[0]&&S(x,e[0]),2&t&&O!==(O=(e[1].account_id_hint||"Use lowercase letters, numbers, and underscores only")+"")&&L(A,O),2&t&&F!==(F=(e[1].create_account||"Create Account")+"")&&L(D,F)},i:e,o:e,d(e){e&&y(n),I=!1,r(z)}}}function Bt(e,t,n){let c;i(e,Me,(e=>n(1,c=e)));let{onSubmit:r=(e=>{})}=t,a="";return e.$$set=e=>{"onSubmit"in e&&n(3,r=e.onSubmit)},[a,c,function(){a.trim()&&r(a.trim().toLowerCase().replace(/\s+/g,""))},r,function(){a=this.value,n(0,a)}]}class Rt extends pe{constructor(e){super(),be(this,e,Bt,zt,s,{onSubmit:3})}}function Pt(t){let n,c,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A,M,S=(t[1].cancel||"Cancel")+"",T=(t[1].confirm||"Confirm")+"";return{c(){n=$("div"),c=$("div"),a=$("div"),s=$("h3"),o=_(t[2]),l=k(),i=$("div"),d=$("p"),u=_(t[3]),f=k(),m=$("div"),b=$("button"),p=_(S),x=k(),v=$("button"),w=_(T),j(s,"class","text-lg font-medium text-fleeca-text"),j(a,"class","bg-fleeca-card p-4 border-b border-fleeca-border"),j(d,"class","text-fleeca-text-secondary"),j(i,"class","p-4"),j(b,"class","py-2 px-4 bg-fleeca-bg text-fleeca-text rounded-md text-sm font-medium hover:bg-fleeca-hover transition-colors border border-fleeca-border"),j(v,"class","py-2 px-4 bg-red-500 text-white rounded-md text-sm font-medium hover:bg-red-600 transition-colors"),j(m,"class","bg-fleeca-card p-4 border-t border-fleeca-border flex justify-end space-x-3"),j(c,"class","max-w-[400px] w-full bg-fleeca-bg rounded-lg shadow-card overflow-hidden animate-slideUp"),j(n,"class","fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60] animate-fadeIn")},m(e,r){h(e,n,r),g(n,c),g(c,a),g(a,s),g(s,o),g(c,l),g(c,i),g(i,d),g(d,u),g(c,f),g(c,m),g(m,b),g(b,p),g(m,x),g(m,v),g(v,w),A||(M=[C(b,"click",t[5]),C(v,"click",t[6])],A=!0)},p(e,[t]){4&t&&L(o,e[2]),8&t&&L(u,e[3]),2&t&&S!==(S=(e[1].cancel||"Cancel")+"")&&L(p,S),2&t&&T!==(T=(e[1].confirm||"Confirm")+"")&&L(w,T)},i:e,o:e,d(e){e&&y(n),A=!1,r(M)}}}function Ot(e,t,n){let c;i(e,Me,(e=>n(1,c=e)));let{action:r=""}=t,{onConfirm:a=(e=>{})}=t,s="",o="";return e.$$set=e=>{"action"in e&&n(4,r=e.action),"onConfirm"in e&&n(0,a=e.onConfirm)},e.$$.update=()=>{18&e.$$.dirty&&("deleteAccount"===r?(n(2,s=c.delete_account||"Delete Account"),n(3,o=c.delete_account_txt||"Are you sure you want to delete this account? This action cannot be undone.")):"removeMember"===r&&(n(2,s=c.remove_member||"Remove Member"),n(3,o=c.remove_member_txt||"Are you sure you want to remove this member from the account?")))},[a,c,s,o,r,()=>a(!1),()=>a(!0)]}class Ft extends pe{constructor(e){super(),be(this,e,Ot,Pt,s,{action:4,onConfirm:0})}}function Ht(t){let n,c,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A,M,T,N,E,D,I,z,B,R,P,O,F,H=(t[2].edit_acc_name||"Change Account Name")+"",V=(t[2].edit_acc_name_txt||"Transactions wont update old names")+"",U=(t[2].account||"Account")+"",q=(t[2].account_id||"Account ID (NO SPACES)")+"",W=(t[2].account_id_hint||"Use lowercase letters, numbers, and underscores only")+"",Y=(t[2].change_account_name||"Change Account Name")+"";return{c(){n=$("div"),c=$("h3"),a=_(H),s=k(),o=$("p"),l=_(V),i=k(),d=$("p"),u=_(U),f=_(": "),m=_(t[0]),b=k(),p=$("div"),x=$("div"),v=$("div"),w=$("label"),A=_(q),M=k(),T=$("input"),N=k(),E=$("p"),D=_(W),I=k(),z=$("button"),B=$("i"),R=k(),P=_(Y),j(c,"class","text-lg font-medium text-fleeca-text"),j(o,"class","text-fleeca-text-secondary"),j(d,"class","text-fleeca-text"),j(w,"for","newName"),j(w,"class","block text-fleeca-text font-medium mb-1"),j(T,"type","text"),j(T,"id","newName"),j(T,"placeholder","savings-1001"),j(T,"class","w-full rounded-lg border border-fleeca-border p-3 bg-fleeca-bg text-fleeca-text focus:border-fleeca-green transition-all"),j(E,"class","text-fleeca-text-secondary text-sm mt-1"),j(B,"class","fas fa-save mr-1"),j(z,"class","w-full py-3 px-4 bg-fleeca-green text-white rounded-md text-sm font-medium hover:bg-fleeca-dark-green transition-colors"),j(x,"class","space-y-4"),j(p,"class","bg-fleeca-card rounded-lg border border-fleeca-border p-4"),j(n,"class","space-y-4")},m(e,r){h(e,n,r),g(n,c),g(c,a),g(n,s),g(n,o),g(o,l),g(n,i),g(n,d),g(d,u),g(d,f),g(d,m),g(n,b),g(n,p),g(p,x),g(x,v),g(v,w),g(w,A),g(v,M),g(v,T),S(T,t[1]),g(v,N),g(v,E),g(E,D),g(x,I),g(x,z),g(z,B),g(z,R),g(z,P),O||(F=[C(T,"input",t[5]),C(z,"click",t[3])],O=!0)},p(e,[t]){4&t&&H!==(H=(e[2].edit_acc_name||"Change Account Name")+"")&&L(a,H),4&t&&V!==(V=(e[2].edit_acc_name_txt||"Transactions wont update old names")+"")&&L(l,V),4&t&&U!==(U=(e[2].account||"Account")+"")&&L(u,U),1&t&&L(m,e[0]),4&t&&q!==(q=(e[2].account_id||"Account ID (NO SPACES)")+"")&&L(A,q),2&t&&T.value!==e[1]&&S(T,e[1]),4&t&&W!==(W=(e[2].account_id_hint||"Use lowercase letters, numbers, and underscores only")+"")&&L(D,W),4&t&&Y!==(Y=(e[2].change_account_name||"Change Account Name")+"")&&L(P,Y)},i:e,o:e,d(e){e&&y(n),O=!1,r(F)}}}function Vt(e,t,n){let c;i(e,Me,(e=>n(2,c=e)));let{account:r=""}=t,{onSubmit:a=(e=>{})}=t,s="";return e.$$set=e=>{"account"in e&&n(0,r=e.account),"onSubmit"in e&&n(4,a=e.onSubmit)},[r,s,c,function(){s.trim()&&a({newName:s.trim().toLowerCase().replace(/\s+/g,"")})},a,function(){s=this.value,n(1,s)}]}class Ut extends pe{constructor(e){super(),be(this,e,Vt,Ht,s,{account:0,onSubmit:4})}}function qt(e){let t,n,c,r,s,o,i,d,u,f,m,b,p,x,v,w,A,M,L,S=(l(Me).bank_name||"Los Santos Banking")+"",T=(l(Me).manage_account||"Account Management")+"";const N=[Jt,Gt,Zt,Yt,Wt],E=[];function D(e,t){return"main"===e[3]?0:"accountsList"===e[3]?1:"createAccount"===e[3]?2:"viewMembers"===e[3]?3:"editAccount"===e[3]?4:-1}return~(v=D(e))&&(w=E[v]=N[v](e)),{c(){t=$("div"),n=$("div"),c=$("div"),r=$("div"),s=$("h2"),o=$("div"),o.innerHTML='<i class="fas fa-users-cog text-fleeca-green"></i>',i=k(),d=_(S),u=_(" - "),f=_(T),m=k(),b=$("button"),b.innerHTML='<i class="fa-solid fa-xmark"></i>',p=k(),x=$("div"),w&&w.c(),j(o,"class","w-8 h-8 rounded-lg bg-fleeca-green/10 flex items-center justify-center mr-3 border border-fleeca-green/20"),j(s,"class","text-xl font-semibold text-fleeca-text font-display flex items-center"),j(b,"class","w-8 h-8 rounded-full bg-fleeca-bg flex items-center justify-center text-fleeca-text-secondary hover:text-fleeca-text transition-colors"),j(r,"class","flex justify-between items-center"),j(c,"class","bg-fleeca-card p-5 border-b border-fleeca-border"),j(x,"class","p-5"),j(n,"class","max-w-[800px] w-full bg-fleeca-bg rounded-lg shadow-card overflow-hidden animate-slideUp"),j(t,"class","fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fadeIn")},m(l,y){h(l,t,y),g(t,n),g(n,c),g(c,r),g(r,s),g(s,o),g(s,i),g(s,d),g(s,u),g(s,f),g(r,m),g(r,b),g(n,p),g(n,x),~v&&E[v].m(x,null),A=!0,M||(L=C(b,"click",(function(){a(e[2])&&e[2].apply(this,arguments)})),M=!0)},p(t,n){let c=v;v=D(e=t),v===c?~v&&E[v].p(e,n):(w&&(ne(),ae(E[c],1,1,(()=>{E[c]=null})),ce()),~v?(w=E[v],w?w.p(e,n):(w=E[v]=N[v](e),w.c()),re(w,1),w.m(x,null)):w=null)},i(e){A||(re(w),A=!0)},o(e){ae(w),A=!1},d(e){e&&y(t),~v&&E[v].d(),M=!1,L()}}}function Wt(e){let t,n,c,r,a,s,o,i,d,u,f=(l(Me).back||"Go Back")+"";return o=new Ut({props:{account:e[5],onSubmit:e[12]}}),{c(){t=$("div"),n=$("button"),c=$("i"),r=k(),a=_(f),s=k(),de(o.$$.fragment),j(c,"class","fas fa-arrow-left mr-2"),j(n,"class","flex items-center text-fleeca-text-secondary hover:text-fleeca-text transition-colors"),j(t,"class","mb-4")},m(l,f){h(l,t,f),g(t,n),g(n,c),g(n,r),g(n,a),h(l,s,f),ue(o,l,f),i=!0,d||(u=C(n,"click",e[16]),d=!0)},p(e,t){const n={};32&t&&(n.account=e[5]),o.$set(n)},i(e){i||(re(o.$$.fragment,e),i=!0)},o(e){ae(o.$$.fragment,e),i=!1},d(e){e&&y(t),e&&y(s),fe(o,e),d=!1,u()}}}function Yt(e){let t,n,c,r,a,s,o,i,d,u,f=(l(Me).back||"Go Back")+"";return o=new It({props:{account:e[5],members:e[6],onAddMember:e[11],onRemoveMember:e[21]}}),{c(){t=$("div"),n=$("button"),c=$("i"),r=k(),a=_(f),s=k(),de(o.$$.fragment),j(c,"class","fas fa-arrow-left mr-2"),j(n,"class","flex items-center text-fleeca-text-secondary hover:text-fleeca-text transition-colors"),j(t,"class","mb-4")},m(l,f){h(l,t,f),g(t,n),g(n,c),g(n,r),g(n,a),h(l,s,f),ue(o,l,f),i=!0,d||(u=C(n,"click",e[16]),d=!0)},p(e,t){const n={};32&t&&(n.account=e[5]),64&t&&(n.members=e[6]),o.$set(n)},i(e){i||(re(o.$$.fragment,e),i=!0)},o(e){ae(o.$$.fragment,e),i=!1},d(e){e&&y(t),e&&y(s),fe(o,e),d=!1,u()}}}function Zt(t){let n,c,r,a,s,o,i,d,u,f,m=(l(Me).back||"Go Back")+"";return i=new Rt({props:{onSubmit:t[10]}}),{c(){n=$("div"),c=$("button"),r=$("i"),a=k(),s=_(m),o=k(),de(i.$$.fragment),j(r,"class","fas fa-arrow-left mr-2"),j(c,"class","flex items-center text-fleeca-text-secondary hover:text-fleeca-text transition-colors"),j(n,"class","mb-4")},m(e,l){h(e,n,l),g(n,c),g(c,r),g(c,a),g(c,s),h(e,o,l),ue(i,e,l),d=!0,u||(f=C(c,"click",t[15]),u=!0)},p:e,i(e){d||(re(i.$$.fragment,e),d=!0)},o(e){ae(i.$$.fragment,e),d=!1},d(e){e&&y(n),e&&y(o),fe(i,e),u=!1,f()}}}function Gt(e){let t,n,c,r,a,s,o,i,d,u,f=(l(Me).back||"Go Back")+"";return o=new Mt({props:{accounts:e[4],onViewMembers:e[9],onEditAccount:e[18],onDeleteAccount:e[20]}}),{c(){t=$("div"),n=$("button"),c=$("i"),r=k(),a=_(f),s=k(),de(o.$$.fragment),j(c,"class","fas fa-arrow-left mr-2"),j(n,"class","flex items-center text-fleeca-text-secondary hover:text-fleeca-text transition-colors"),j(t,"class","mb-4")},m(l,f){h(l,t,f),g(t,n),g(n,c),g(n,r),g(n,a),h(l,s,f),ue(o,l,f),i=!0,d||(u=C(n,"click",e[15]),d=!0)},p(e,t){const n={};16&t&&(n.accounts=e[4]),32&t&&(n.onDeleteAccount=e[20]),o.$set(n)},i(e){i||(re(o.$$.fragment,e),i=!0)},o(e){ae(o.$$.fragment,e),i=!1},d(e){e&&y(t),e&&y(s),fe(o,e),d=!1,u()}}}function Jt(t){let n,c,r,a,s,o,i,d,u,f,m,b=t[1]&&Xt(t);return{c(){n=$("div"),b&&b.c(),c=k(),r=$("button"),a=$("div"),a.innerHTML='<i class="fas fa-list text-fleeca-green"></i>',s=k(),o=$("div"),i=$("h3"),i.textContent=`${l(Me).manage_account||"Manage Existing Accounts"}`,d=k(),u=$("p"),u.textContent=`${l(Me).manage_account_txt||"View existing accounts!"}`,j(a,"class","w-10 h-10 rounded-full bg-fleeca-green/10 flex items-center justify-center mr-3 border border-fleeca-green/20"),j(i,"class","text-fleeca-text font-medium"),j(u,"class","text-fleeca-text-secondary text-sm"),j(o,"class","text-left"),j(r,"class","p-4 bg-fleeca-card rounded-lg border border-fleeca-border hover:bg-fleeca-hover transition-colors flex items-center"),j(n,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(e,l){h(e,n,l),b&&b.m(n,null),g(n,c),g(n,r),g(r,a),g(r,s),g(r,o),g(o,i),g(o,d),g(o,u),f||(m=C(r,"click",t[16]),f=!0)},p(e,t){e[1]?b?b.p(e,t):(b=Xt(e),b.c(),b.m(n,c)):b&&(b.d(1),b=null)},i:e,o:e,d(e){e&&y(n),b&&b.d(),f=!1,m()}}}function Xt(t){let n,c,r,a,s,o,i,d,u;return{c(){n=$("button"),c=$("div"),c.innerHTML='<i class="fas fa-plus text-fleeca-green"></i>',r=k(),a=$("div"),s=$("h3"),s.textContent=`${l(Me).create_account||"Create New Account"}`,o=k(),i=$("p"),i.textContent=`${l(Me).create_account_txt||"Create a new sub bank account!"}`,j(c,"class","w-10 h-10 rounded-full bg-fleeca-green/10 flex items-center justify-center mr-3 border border-fleeca-green/20"),j(s,"class","text-fleeca-text font-medium"),j(i,"class","text-fleeca-text-secondary text-sm"),j(a,"class","text-left"),j(n,"class","p-4 bg-fleeca-card rounded-lg border border-fleeca-border hover:bg-fleeca-hover transition-colors flex items-center")},m(e,l){h(e,n,l),g(n,c),g(n,r),g(n,a),g(a,s),g(a,o),g(a,i),d||(u=C(n,"click",t[17]),d=!0)},p:e,d(e){e&&y(n),d=!1,u()}}}function Kt(e){let t,n;return t=new Ft({props:{action:e[8],onConfirm:e[14]}}),{c(){de(t.$$.fragment)},m(e,c){ue(t,e,c),n=!0},p(e,n){const c={};256&n&&(c.action=e[8]),t.$set(c)},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function Qt(e){let t,n,c,r=e[0]&&qt(e),a=e[7]&&Kt(e);return{c(){r&&r.c(),t=k(),a&&a.c(),n=A()},m(e,s){r&&r.m(e,s),h(e,t,s),a&&a.m(e,s),h(e,n,s),c=!0},p(e,[c]){e[0]?r?(r.p(e,c),1&c&&re(r,1)):(r=qt(e),r.c(),re(r,1),r.m(t.parentNode,t)):r&&(ne(),ae(r,1,1,(()=>{r=null})),ce()),e[7]?a?(a.p(e,c),128&c&&re(a,1)):(a=Kt(e),a.c(),re(a,1),a.m(n.parentNode,n)):a&&(ne(),ae(a,1,1,(()=>{a=null})),ce())},i(e){c||(re(r),re(a),c=!0)},o(e){ae(r),ae(a),c=!1},d(e){r&&r.d(e),e&&y(t),a&&a.d(e),e&&y(n)}}}function en(e,t,n){let{isVisible:c=!1}=t,{canCreateAccounts:r=!1}=t,{onClose:a=(()=>{})}=t,{onAccountChange:s=(()=>{})}=t,o="main",i=[],d=null,u={},f=!1,m="",b=null;async function p(){try{const e=await xe("Renewed-Banking:client:getPlayerAccounts",{},!0);e&&Array.isArray(e)?n(4,i=e):n(4,i=[])}catch(e){n(4,i=[])}}function g(e){n(5,d=e),xe("Renewed-Banking:client:viewMemberManagement",{account:e}).then((e=>{e&&(n(6,u=e.members||{}),n(3,o="viewMembers"))}))}function x(e,t=null){n(8,m=e),b=t,n(7,f=!0)}O((()=>{c&&p()}));return e.$$set=e=>{"isVisible"in e&&n(0,c=e.isVisible),"canCreateAccounts"in e&&n(1,r=e.canCreateAccounts),"onClose"in e&&n(2,a=e.onClose),"onAccountChange"in e&&n(19,s=e.onAccountChange)},e.$$.update=()=>{1&e.$$.dirty&&c&&p()},[c,r,a,o,i,d,u,f,m,g,function(e){e?xe("Renewed-Banking:client:createNewAccount",e).then((()=>{$e.set({message:l(Me).account_created||"Account created successfully",type:"success"}),p(),n(3,o="accountsList"),s()})).catch((()=>{$e.set({message:"Error creating account",type:"error"})})):$e.set({message:l(Me).missing_params||"Please provide an account ID",type:"error"})},function(e){e.memberId?xe("Renewed-Banking:client:addAccountMember",{account:d,memberId:e.memberId}).then((()=>{$e.set({message:l(Me).member_added||"Member added successfully",type:"success"}),g(d)})):$e.set({message:l(Me).missing_params||"Please provide a member ID",type:"error"})},function(e){e.newName?xe("Renewed-Banking:client:changeAccountName",{account:d,newName:e.newName}).then((()=>{$e.set({message:l(Me).account_renamed||"Account renamed successfully",type:"success"}),p(),n(3,o="accountsList"),s()})):$e.set({message:l(Me).missing_params||"Please provide a new account name",type:"error"})},x,function(e){e&&("deleteAccount"===m?xe("Renewed-Banking:client:deleteAccount",{account:d}).then((()=>{$e.set({message:l(Me).account_deleted||"Account deleted successfully",type:"success"}),p(),n(3,o="accountsList"),s()})):"removeMember"===m&&xe("Renewed-Banking:client:removeAccountMember",{account:d,cid:b}).then((()=>{$e.set({message:l(Me).member_removed||"Member removed successfully",type:"success"}),g(d)}))),n(7,f=!1),n(8,m=""),b=null},function(){n(3,o="main")},function(){p(),n(3,o="accountsList")},function(){n(3,o="createAccount")},function(e){n(5,d=e),n(3,o="editAccount")},s,e=>{n(5,d=e),x("deleteAccount")},e=>x("removeMember",e)]}class tn extends pe{constructor(e){super(),be(this,e,en,Qt,s,{isVisible:0,canCreateAccounts:1,onClose:2,onAccountChange:19})}}function nn(t){let n,c,r;return{c(){n=$("button"),n.innerHTML='<i class="fas fa-users-cog text-fleeca-green mr-2"></i> \n              <span class="text-fleeca-text text-sm">Manage Accounts</span>',j(n,"class","py-2 px-4 bg-fleeca-card hover:bg-fleeca-hover flex items-center justify-center transition-colors border border-fleeca-border rounded-md")},m(e,a){h(e,n,a),c||(r=C(n,"click",t[5]),c=!0)},p:e,d(e){e&&y(n),c=!1,r()}}}function cn(e){let t,n,c,r,a,s,o,l,i=e[3][0].name.split(" ")[0]+"",d=e[3][0].name.split(" ").length>1,u=d&&rn(e);return{c(){t=$("div"),n=$("h2"),c=_("Welcome, "),r=$("span"),a=_(i),s=k(),u&&u.c(),o=k(),l=$("p"),l.textContent=`${(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,j(r,"class","text-fleeca-green"),j(n,"class","text-xl font-semibold text-fleeca-text mb-1"),j(l,"class","text-fleeca-text-secondary"),j(t,"class","bg-fleeca-bg p-4 rounded-lg mb-6 border border-fleeca-border shadow-sm")},m(e,i){h(e,t,i),g(t,n),g(n,c),g(n,r),g(r,a),g(n,s),u&&u.m(n,null),g(t,o),g(t,l)},p(e,t){8&t&&i!==(i=e[3][0].name.split(" ")[0]+"")&&L(a,i),8&t&&(d=e[3][0].name.split(" ").length>1),d?u?u.p(e,t):(u=rn(e),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},d(e){e&&y(t),u&&u.d()}}}function rn(e){let t,n,c=e[3][0].name.split(" ")[1]+"";return{c(){t=$("span"),n=_(c),j(t,"class","text-fleeca-green")},m(e,c){h(e,t,c),g(t,n)},p(e,t){8&t&&c!==(c=e[3][0].name.split(" ")[1]+"")&&L(n,c)},d(e){e&&y(t)}}}function an(e){let t,n;return t=new tn({props:{isVisible:!0,canCreateAccounts:e[1],onClose:e[7],onAccountChange:e[4]}}),{c(){de(t.$$.fragment)},m(e,c){ue(t,e,c),n=!0},p(e,n){const c={};2&n&&(c.canCreateAccounts=e[1]),1&n&&(c.onClose=e[7]),t.$set(c)},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function sn(e){let t,n,c,r,a,s,o,l,i,d,u,f,m,b,p,x,v,w,_,M,L=e[1]&&!e[2]&&nn(e),S=e[3]&&e[3].length>0&&e[3][0]&&cn(e);m=new tt({}),p=new wt({});let T=e[0]&&!e[2]&&an(e);return{c(){t=$("div"),n=$("div"),c=$("div"),r=$("div"),a=$("div"),a.innerHTML='<div class="w-10 h-10 flex items-center justify-center mr-3"><i class="fas fa-university text-fleeca-green text-2xl"></i></div> \n          <div><h1 class="text-2xl font-bold text-fleeca-text font-display">Fleeca</h1> \n            <p class="text-fleeca-green text-sm font-medium">Online Banking</p></div>',s=k(),o=$("div"),L&&L.c(),l=k(),i=$("button"),i.innerHTML='<i class="fa-solid fa-xmark text-fleeca-text-secondary"></i>',d=k(),S&&S.c(),u=k(),f=$("div"),de(m.$$.fragment),b=k(),de(p.$$.fragment),x=k(),T&&T.c(),v=A(),j(a,"class","flex items-center"),j(i,"class","w-10 h-10 rounded-full bg-fleeca-card hover:bg-fleeca-hover flex items-center justify-center transition-colors border border-fleeca-border"),j(o,"class","flex items-center gap-3"),j(r,"class","flex justify-between items-center mb-6"),j(f,"class","flex gap-6 h-[calc(100%-4rem)] overflow-hidden"),j(c,"class","relative z-10 w-full h-full p-6 flex flex-col"),j(n,"class","w-full h-full bg-fleeca-bg rounded-xl shadow-card overflow-hidden relative"),j(t,"class","absolute w-[90%] h-[90%] bottom-[5%] left-[5%] overflow-hidden animate-fadeIn")},m(y,$){h(y,t,$),g(t,n),g(n,c),g(c,r),g(r,a),g(r,s),g(r,o),L&&L.m(o,null),g(o,l),g(o,i),g(c,d),S&&S.m(c,null),g(c,u),g(c,f),ue(m,f,null),g(f,b),ue(p,f,null),h(y,x,$),T&&T.m(y,$),h(y,v,$),w=!0,_||(M=C(i,"click",e[6]),_=!0)},p(e,[t]){e[1]&&!e[2]?L?L.p(e,t):(L=nn(e),L.c(),L.m(o,l)):L&&(L.d(1),L=null),e[3]&&e[3].length>0&&e[3][0]?S?S.p(e,t):(S=cn(e),S.c(),S.m(c,u)):S&&(S.d(1),S=null),e[0]&&!e[2]?T?(T.p(e,t),5&t&&re(T,1)):(T=an(e),T.c(),re(T,1),T.m(v.parentNode,v)):T&&(ne(),ae(T,1,1,(()=>{T=null})),ce())},i(e){w||(re(m.$$.fragment,e),re(p.$$.fragment,e),re(T),w=!0)},o(e){ae(m.$$.fragment,e),ae(p.$$.fragment,e),ae(T),w=!1},d(e){e&&y(t),L&&L.d(),S&&S.d(),fe(m),fe(p),e&&y(x),T&&T.d(e),e&&y(v),_=!1,M()}}}function on(e,t,n){let c,r;i(e,ke,(e=>n(2,c=e))),i(e,je,(e=>n(3,r=e)));let a=!1,s=!1;O((()=>{xe("Renewed-Banking:client:checkAccountManagement").then((e=>{e&&(e.showManagement,n(1,s=e.canCreateAccounts||!1))})).catch((()=>{n(1,s=!1)}))}));return[a,s,c,r,function(){xe("Renewed-Banking:server:getBankData").catch((()=>{}))},()=>n(0,a=!a),()=>{xe("closeInterface"),ye.set(!1)},()=>n(0,a=!1)]}class ln extends pe{constructor(e){super(),be(this,e,on,sn,s,{})}}function dn(e){let t,n,c,r,a,s,o,l,i,d=(e[5].transfer||"Business or Citizen ID")+"";return{c(){t=$("div"),n=$("label"),c=$("i"),r=k(),a=_(d),s=k(),o=$("input"),j(c,"class","fa-solid fa-user text-fleeca-green mr-2"),j(n,"for","stateId"),j(n,"class","text-fleeca-text font-medium flex items-center"),j(o,"type","text"),j(o,"name","stateId"),j(o,"id","stateId"),j(o,"placeholder","Enter recipient ID"),j(o,"class","w-full rounded-lg border border-fleeca-border p-3 bg-fleeca-card text-fleeca-text focus:border-fleeca-green transition-all"),j(t,"class","space-y-2")},m(d,u){h(d,t,u),g(t,n),g(n,c),g(n,r),g(n,a),g(t,s),g(t,o),S(o,e[3]),l||(i=C(o,"input",e[12]),l=!0)},p(e,t){32&t&&d!==(d=(e[5].transfer||"Business or Citizen ID")+"")&&L(a,d),8&t&&o.value!==e[3]&&S(o,e[3])},d(e){e&&y(t),l=!1,i()}}}function un(t){let n,c,a,s,o,l,i,d,u,f,m,b,p,x,v,w,A,T,N,E,D,I,z,B,R,P,O,F,H,V,U,q,W,Y,Z,G,J,X,K,Q,ee,te,ne,ce,re,ae,se,oe,le,ie,de,ue,fe,me,be,pe,ge=t[0].account.type+"",xe=(t[5].account||" Card")+"",ve=t[0].account.id+"",he=t[4].title+"",ye=(t[5].amount||"Amount")+"",we=(t[5].comment||"Comment")+"",$e=(t[5].cancel||"Cancel")+"",_e=(t[5].confirm||"Submit")+"",ke="transfer"===t[0].actionType&&dn(t);return{c(){n=$("div"),c=$("div"),a=$("div"),s=$("div"),o=$("h2"),l=_(ge),i=_(xe),d=_(" / "),u=_(ve),f=k(),m=$("button"),m.innerHTML='<i class="fa-solid fa-xmark"></i>',b=k(),p=$("div"),x=$("div"),v=$("i"),A=k(),T=$("span"),N=_(he),E=k(),D=$("div"),I=$("form"),z=$("div"),B=$("label"),R=$("i"),P=k(),O=_(ye),F=k(),H=$("div"),V=$("input"),U=k(),q=$("span"),q.textContent="$",W=k(),Y=$("div"),Z=$("label"),G=$("i"),J=k(),X=_(we),K=k(),Q=$("input"),ee=k(),ke&&ke.c(),te=k(),ne=$("div"),ce=$("div"),re=$("button"),ae=$("i"),se=k(),oe=_($e),le=k(),ie=$("button"),de=$("i"),ue=k(),fe=_(_e),j(o,"class","text-xl font-semibold text-fleeca-text font-display"),j(m,"class","w-8 h-8 rounded-full bg-fleeca-bg flex items-center justify-center text-fleeca-text-secondary hover:text-fleeca-text transition-colors"),j(s,"class","flex justify-between items-center"),j(v,"class",w=`fas ${"fa-arrow-down-to-line"===t[4].icon?"fa-arrow-down":"fa-arrow-up-from-line"===t[4].icon?"fa-arrow-up":"fa-exchange-alt"} ${t[4].color}`),j(x,"class","w-8 h-8 rounded-full bg-fleeca-bg flex items-center justify-center mr-3"),j(T,"class","text-fleeca-text-secondary"),j(p,"class","flex items-center mt-2"),j(a,"class","bg-fleeca-card p-5 border-b border-fleeca-border"),j(R,"class","fa-solid fa-money-bill-wave text-fleeca-green mr-2"),j(B,"for","amount"),j(B,"class","text-fleeca-text font-medium flex items-center"),j(V,"type","number"),j(V,"name","amount"),j(V,"id","amount"),j(V,"placeholder","0.00"),j(V,"class","w-full rounded-lg border border-fleeca-border p-3 pl-10 bg-fleeca-card text-fleeca-text focus:border-fleeca-green transition-all"),j(q,"class","absolute left-3 top-1/2 transform -translate-y-1/2 text-fleeca-text-secondary"),j(H,"class","relative"),j(z,"class","space-y-2"),j(G,"class","fa-solid fa-comment text-fleeca-green mr-2"),j(Z,"for","comment"),j(Z,"class","text-fleeca-text font-medium flex items-center"),j(Q,"type","text"),j(Q,"name","comment"),j(Q,"id","comment"),j(Q,"placeholder","Add a note about this transaction"),j(Q,"class","w-full rounded-lg border border-fleeca-border p-3 bg-fleeca-card text-fleeca-text focus:border-fleeca-green transition-all"),j(Y,"class","space-y-2"),j(I,"class","space-y-5"),j(D,"class","p-5"),j(ae,"class","fa-solid fa-xmark mr-2"),j(re,"type","button"),j(re,"class","py-2 px-4 bg-fleeca-card text-fleeca-text rounded-md font-medium hover:bg-fleeca-hover transition-colors flex-1 border border-fleeca-border"),j(de,"class","fa-solid fa-check mr-2"),j(ie,"type","button"),j(ie,"class",me=`py-2 px-4 ${t[4].buttonColor} text-white rounded-md font-medium transition-colors flex-1`),j(ce,"class","flex gap-3"),j(ne,"class","p-5 bg-fleeca-card border-t border-fleeca-border"),j(c,"class","max-w-[500px] w-full bg-fleeca-bg rounded-lg shadow-card overflow-hidden animate-slideUp"),j(n,"class","fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn")},m(e,r){h(e,n,r),g(n,c),g(c,a),g(a,s),g(s,o),g(o,l),g(o,i),g(o,d),g(o,u),g(s,f),g(s,m),g(a,b),g(a,p),g(p,x),g(x,v),g(p,A),g(p,T),g(T,N),g(c,E),g(c,D),g(D,I),g(I,z),g(z,B),g(B,R),g(B,P),g(B,O),g(z,F),g(z,H),g(H,V),S(V,t[1]),g(H,U),g(H,q),g(I,W),g(I,Y),g(Y,Z),g(Z,G),g(Z,J),g(Z,X),g(Y,K),g(Y,Q),S(Q,t[2]),g(I,ee),ke&&ke.m(I,null),g(c,te),g(c,ne),g(ne,ce),g(ce,re),g(re,ae),g(re,se),g(re,oe),g(ce,le),g(ce,ie),g(ie,de),g(ie,ue),g(ie,fe),be||(pe=[C(m,"click",t[6]),C(V,"input",t[10]),C(Q,"input",t[11]),C(re,"click",t[6]),C(ie,"click",t[7])],be=!0)},p(e,[t]){1&t&&ge!==(ge=e[0].account.type+"")&&L(l,ge),32&t&&xe!==(xe=(e[5].account||" Card")+"")&&L(i,xe),1&t&&ve!==(ve=e[0].account.id+"")&&L(u,ve),16&t&&w!==(w=`fas ${"fa-arrow-down-to-line"===e[4].icon?"fa-arrow-down":"fa-arrow-up-from-line"===e[4].icon?"fa-arrow-up":"fa-exchange-alt"} ${e[4].color}`)&&j(v,"class",w),16&t&&he!==(he=e[4].title+"")&&L(N,he),32&t&&ye!==(ye=(e[5].amount||"Amount")+"")&&L(O,ye),2&t&&M(V.value)!==e[1]&&S(V,e[1]),32&t&&we!==(we=(e[5].comment||"Comment")+"")&&L(X,we),4&t&&Q.value!==e[2]&&S(Q,e[2]),"transfer"===e[0].actionType?ke?ke.p(e,t):(ke=dn(e),ke.c(),ke.m(I,null)):ke&&(ke.d(1),ke=null),32&t&&$e!==($e=(e[5].cancel||"Cancel")+"")&&L(oe,$e),32&t&&_e!==(_e=(e[5].confirm||"Submit")+"")&&L(fe,_e),16&t&&me!==(me=`py-2 px-4 ${e[4].buttonColor} text-white rounded-md font-medium transition-colors flex-1`)&&j(ie,"class",me)},i:e,o:e,d(e){e&&y(n),ke&&ke.d(),be=!1,r(pe)}}}function fn(e,t,n){let c,r,a,s;i(e,Ce,(e=>n(0,c=e))),i(e,_e,(e=>n(8,r=e))),i(e,je,(e=>n(9,a=e))),i(e,Me,(e=>n(5,s=e)));let o,l=0,d="",u="";function f(){Ce.update((e=>Object.assign(Object.assign({},e),{actionType:""})))}return e.$$.update=()=>{768&e.$$.dirty&&a&&Array.isArray(a)&&a.find((e=>r===(null==e?void 0:e.id))),1&e.$$.dirty&&n(4,o={deposit:{title:"Deposit Funds",icon:"fa-arrow-down-to-line",color:"text-fleeca-green",buttonColor:"bg-fleeca-green hover:bg-fleeca-dark-green"},withdraw:{title:"Withdraw Funds",icon:"fa-arrow-up-from-line",color:"text-red-400",buttonColor:"bg-fleeca-card border border-fleeca-border hover:bg-fleeca-hover"},transfer:{title:"Transfer Funds",icon:"fa-arrow-right-arrow-left",color:"text-fleeca-text",buttonColor:"bg-fleeca-card border border-fleeca-border hover:bg-fleeca-hover"}}[c.actionType]||{title:"",icon:"",color:"",buttonColor:""})},[c,l,d,u,o,s,f,function(){we.set(!0),xe(c.actionType,{fromAccount:c.account.id,amount:l,comment:d,stateid:u}).then((e=>{setTimeout((()=>{!1!==e&&je.set(e),we.set(!1)}),1e3)})),f()},r,a,function(){l=M(this.value),n(1,l)},function(){d=this.value,n(2,d)},function(){u=this.value,n(3,u)}]}class mn extends pe{constructor(e){super(),be(this,e,fn,un,s,{})}}function bn(t){let n;return{c(){n=$("div"),n.innerHTML='<div class="max-w-md w-full bg-fleeca-card p-8 rounded-lg shadow-card svelte-19ldftu"><div class="flex flex-col items-center justify-center svelte-19ldftu"><div class="relative w-24 h-24 mb-6 svelte-19ldftu"><div class="absolute inset-0 rounded-full border-4 border-fleeca-bg svelte-19ldftu"></div> \n        <div class="absolute inset-0 rounded-full border-4 border-transparent border-t-fleeca-green animate-spin svelte-19ldftu"></div> \n        <div class="absolute inset-0 flex items-center justify-center svelte-19ldftu"><i class="fas fa-university text-fleeca-green text-2xl"></i></div></div> \n      <h3 class="text-xl font-semibold text-fleeca-text mb-2 font-display">Processing Transaction</h3> \n      <p class="text-fleeca-text-secondary text-center">Please wait while we process your request...</p> \n      <div class="w-full h-1 bg-fleeca-bg rounded-full mt-6 overflow-hidden svelte-19ldftu"><div class="h-full bg-fleeca-green animate-pulse svelte-19ldftu" style="width: 100%;"></div></div></div></div>',j(n,"class","fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fadeIn svelte-19ldftu")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&y(n)}}}class pn extends pe{constructor(e){super(),be(this,e,null,bn,s,{})}}function gn(e){const t=e-1;return t*t*t+1}function xn(e,{delay:t=0,duration:n=400,easing:c=gn,x:r=0,y:a=0,opacity:s=0}={}){const o=getComputedStyle(e),l=+o.opacity,i="none"===o.transform?"":o.transform,d=l*(1-s);return{delay:t,duration:n,easing:c,css:(e,t)=>`\n\t\t\ttransform: ${i} translate(${(1-e)*r}px, ${(1-e)*a}px);\n\t\t\topacity: ${l-d*t}`}}function vn(e){let t,n,c,r,a,s,o,l,i,d,u,f,m;return{c(){t=$("div"),n=$("div"),c=$("div"),r=$("i"),a=k(),s=$("span"),o=_(e[0]),l=k(),i=$("button"),i.innerHTML='<i class="fas fa-times"></i>',j(r,"class","fas fa-info-circle mr-2"),j(c,"class","notification-content svelte-1ym0kec"),j(i,"class","notification-close svelte-1ym0kec"),j(n,"class","notification svelte-1ym0kec"),j(t,"class","notification-container svelte-1ym0kec")},m(d,b){h(d,t,b),g(t,n),g(n,c),g(c,r),g(c,a),g(c,s),g(s,o),g(n,l),g(n,i),u=!0,f||(m=C(i,"click",e[2]),f=!0)},p(e,t){(!u||1&t)&&L(o,e[0])},i(e){u||(Y((()=>{d||(d=oe(t,xn,{y:-50,duration:300},!0)),d.run(1)})),u=!0)},o(e){d||(d=oe(t,xn,{y:-50,duration:300},!1)),d.run(0),u=!1},d(e){e&&y(t),e&&d&&d.end(),f=!1,m()}}}function hn(e){let t,n,c=e[1]&&vn(e);return{c(){c&&c.c(),t=A()},m(e,r){c&&c.m(e,r),h(e,t,r),n=!0},p(e,[n]){e[1]?c?(c.p(e,n),2&n&&re(c,1)):(c=vn(e),c.c(),re(c,1),c.m(t.parentNode,t)):c&&(ne(),ae(c,1,1,(()=>{c=null})),ce())},i(e){n||(re(c),n=!0)},o(e){ae(c),n=!1},d(e){c&&c.d(e),e&&y(t)}}}function yn(e,t,n){let c="",r=!1,a=null;$e.subscribe((e=>{e?("string"==typeof e?n(0,c=e):"object"==typeof e?e.message?n(0,c=e.message):e.toString&&"[object Object]"!==e.toString()?n(0,c=e.toString()):n(0,c="Notification received"):n(0,c=String(e)),n(1,r=!0),a&&clearTimeout(a),a=setTimeout((()=>{n(1,r=!1),$e.set("")}),5e3)):n(1,r=!1)})),O((()=>()=>{a&&clearTimeout(a)}));return[c,r,()=>{n(1,r=!1),$e.set("")}]}class wn extends pe{constructor(e){super(),be(this,e,yn,hn,s,{})}}function $n(e){let t,n;return t=new mn({}),{c(){de(t.$$.fragment)},m(e,c){ue(t,e,c),n=!0},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function _n(e){let t,n;return t=new wn({}),{c(){de(t.$$.fragment)},m(e,c){ue(t,e,c),n=!0},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function kn(e){let t,n,c,r,a;t=new ln({});let s=""!==e[0].actionType&&$n(),o=""!==e[1]&&_n();return{c(){de(t.$$.fragment),n=k(),s&&s.c(),c=k(),o&&o.c(),r=A()},m(e,l){ue(t,e,l),h(e,n,l),s&&s.m(e,l),h(e,c,l),o&&o.m(e,l),h(e,r,l),a=!0},p(e,t){""!==e[0].actionType?s?1&t&&re(s,1):(s=$n(),s.c(),re(s,1),s.m(c.parentNode,c)):s&&(ne(),ae(s,1,1,(()=>{s=null})),ce()),""!==e[1]?o?2&t&&re(o,1):(o=_n(),o.c(),re(o,1),o.m(r.parentNode,r)):o&&(ne(),ae(o,1,1,(()=>{o=null})),ce())},i(e){a||(re(t.$$.fragment,e),re(s),re(o),a=!0)},o(e){ae(t.$$.fragment,e),ae(s),ae(o),a=!1},d(e){fe(t,e),e&&y(n),s&&s.d(e),e&&y(c),o&&o.d(e),e&&y(r)}}}function An(e){let t,n;return t=new pn({}),{c(){de(t.$$.fragment)},m(e,c){ue(t,e,c),n=!0},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function Cn(e){let t,n,c,r,a,s;c=new Ee({props:{$$slots:{default:[kn]},$$scope:{ctx:e}}});let o=e[2]&&An();return{c(){t=$("link"),n=k(),de(c.$$.fragment),r=k(),o&&o.c(),a=A(),j(t,"rel","stylesheet"),j(t,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"),j(t,"integrity","sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="),j(t,"crossorigin","anonymous"),j(t,"referrerpolicy","no-referrer")},m(e,l){g(document.head,t),h(e,n,l),ue(c,e,l),h(e,r,l),o&&o.m(e,l),h(e,a,l),s=!0},p(e,[t]){const n={};11&t&&(n.$$scope={dirty:t,ctx:e}),c.$set(n),e[2]?o?4&t&&re(o,1):(o=An(),o.c(),re(o,1),o.m(a.parentNode,a)):o&&(ne(),ae(o,1,1,(()=>{o=null})),ce())},i(e){s||(re(c.$$.fragment,e),re(o),s=!0)},o(e){ae(c.$$.fragment,e),ae(o),s=!1},d(e){y(t),e&&y(n),fe(c,e),e&&y(r),o&&o.d(e),e&&y(a)}}}function jn(e,t,n){let c,r,a;return i(e,Ce,(e=>n(0,c=e))),i(e,$e,(e=>n(1,r=e))),i(e,we,(e=>n(2,a=e))),De([{action:"setVisible",data:!0}]),[c,r,a]}return new class extends pe{constructor(e){super(),be(this,e,jn,Cn,s,{})}}({target:document.body})}();
